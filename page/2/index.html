
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Vue实验室</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="用一年的时间好好搞定Vue，已Vue为支点撬动前端知识体系。">
<meta property="og:type" content="website">
<meta property="og:title" content="Vue实验室">
<meta property="og:url" content="https://violetjack.github.io/page/2/index.html">
<meta property="og:site_name" content="Vue实验室">
<meta property="og:description" content="用一年的时间好好搞定Vue，已Vue为支点撬动前端知识体系。">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vue实验室">
<meta name="twitter:description" content="用一年的时间好好搞定Vue，已Vue为支点撬动前端知识体系。">
  
    <link rel="alternative" href="/atom.xml" title="Vue实验室" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Vue实验室</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">专注于Vue相关知识的学习和分享</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">文章</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="violetjack.github.io">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-Vue.js学习系列三 —— axios和网络传输相关知识的学习实践" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/09/Vue.js学习系列三 —— axios和网络传输相关知识的学习实践/" class="article-date">
  <time datetime="2017-01-08T16:00:00.000Z" itemprop="datePublished">2017-01-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/09/Vue.js学习系列三 —— axios和网络传输相关知识的学习实践/">Vue.js学习系列三 —— axios和网络传输相关知识的学习实践</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>在学习了之前的路由vue-router和状态管理vuex之后，就应该是网络交互了。就学习尤大推荐的axios了。刚好本人对网络请求这块除了会get、put、post和delete这四个方法之外知之甚少，刚好补全上。</p>
</blockquote>
<p><strong>注意：</strong>Vue官方推荐的网络通信库不再是vue-resource了，推荐使用<a href="https://github.com/mzabriskie/axios" target="_blank" rel="noopener">axios</a>。<br><img src="http://upload-images.jianshu.io/upload_images/1987062-b3255d564903d3d7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="尤大的公告"></p>
<h1 id="axios安装"><a href="#axios安装" class="headerlink" title="axios安装"></a>axios安装</h1><p>npm:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install axios</span><br></pre></td></tr></table></figure></p>
<p>bower:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ bower install axios</span><br></pre></td></tr></table></figure></p>
<p>Using cdn:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="基本使用方法"><a href="#基本使用方法" class="headerlink" title="基本使用方法"></a>基本使用方法</h1><p><code>GET</code>请求<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// Make a request for a user with a given ID</span><br><span class="line">axios.get(&apos;/user?ID=12345&apos;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">// Optionally the request above could also be done as</span><br><span class="line">axios.get(&apos;/user&apos;, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: 12345</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p>
<p><code>POST</code>请求<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(&apos;/user&apos;, &#123;</span><br><span class="line">   firstName: &apos;Fred&apos;,</span><br><span class="line">   lastName: &apos;Flintstone&apos;</span><br><span class="line"> &#125;)</span><br><span class="line"> .then(function (response) &#123;</span><br><span class="line">   console.log(response);</span><br><span class="line"> &#125;)</span><br><span class="line"> .catch(function (error) &#123;</span><br><span class="line">   console.log(error);</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure></p>
<p>同时执行多个请求<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getUserAccount() &#123;</span><br><span class="line">  return axios.get(&apos;/user/12345&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getUserPermissions() &#123;</span><br><span class="line">  return axios.get(&apos;/user/12345/permissions&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">  .then(axios.spread(function (acct, perms) &#123;</span><br><span class="line">    // Both requests are now complete</span><br><span class="line">  &#125;));</span><br></pre></td></tr></table></figure></p>
<p>其实和其他的ajax库一样，基本用法都是差不多的。大家一看就知道怎么用。</p>
<h1 id="axios-API"><a href="#axios-API" class="headerlink" title="axios API"></a>axios API</h1><p>可以直接通过<code>config</code>来完成请求<br>axios(config)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">  method: &apos;post&apos;,</span><br><span class="line">  url: &apos;/user/12345&apos;,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: &apos;Fred&apos;,</span><br><span class="line">    lastName: &apos;Flintstone&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>axios(url, [config])<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// Send a GET request (default method)</span><br><span class="line">axios(&apos;/user/12345&apos;);</span><br></pre></td></tr></table></figure></p>
<h2 id="请求方法别名"><a href="#请求方法别名" class="headerlink" title="请求方法别名"></a>请求方法别名</h2><p>下面是axios支持的所有请求方法别名，便于各种请求。<br>注：<code>[...]</code>中的数据表示可以为空。<code>url</code>是ajax请求地址；<code>data</code>是提交的数据对象；<code>config</code>是配置对象，所有ajax配置都可以在<code>config</code>中实现。</p>
<ul>
<li>axios.request(config)</li>
<li>axios.get(url[, config])</li>
<li>axios.delete(url[, config])</li>
<li>axios.head(url[, config])</li>
<li>axios.post(url[, data[, config]])</li>
<li>axios.put(url[, data[, config]])</li>
<li>axios.patch(url[, data[, config]])</li>
</ul>
<h2 id="并发性"><a href="#并发性" class="headerlink" title="并发性"></a>并发性</h2><p>下列接口用于处理并发请求(同时处理多个多个request)</p>
<ul>
<li>axios.all(iterable)</li>
<li>axios.spread(callback)</li>
</ul>
<h2 id="axios实例"><a href="#axios实例" class="headerlink" title="axios实例"></a>axios实例</h2><p>可以用自定义的config创建一个axios实例<br>axios.create([config])<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var instance = axios.create(&#123;</span><br><span class="line">  baseURL: &apos;https://some-domain.com/api/&apos;,</span><br><span class="line">  timeout: 1000,</span><br><span class="line">  headers: &#123;&apos;X-Custom-Header&apos;: &apos;foobar&apos;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h2 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h2><p>下面是实例的所有可用方法，方法中的<code>config</code>会与axios实例中的config合并。（实例可以将一些通用的config先配置好）</p>
<ul>
<li>axios#request(config)</li>
<li>axios#get(url, [config])</li>
<li>axios#delete(url, [config])</li>
<li>axios#head(url, [config])</li>
<li>axios#post(url[, data[, config]])</li>
<li>axios#put(url[, data[, config]])</li>
<li>axios#patch(url[, data[, config]])</li>
</ul>
<h2 id="Config"><a href="#Config" class="headerlink" title="Config"></a>Config</h2><p>重点来了，来看看Config。<br>下面列出了config的所有配置项，其中之后<code>url</code>是必填的。当<code>method</code>没有指定方法，默认为<code>GET</code>。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // `url` is the server URL that will be used for the request</span><br><span class="line">  // 用来向服务器发送请求的url</span><br><span class="line">  url: &apos;/user&apos;,</span><br><span class="line"></span><br><span class="line">  // `method` is the request method to be used when making the request</span><br><span class="line"> // 请求方法</span><br><span class="line">  method: &apos;get&apos;, // default</span><br><span class="line"></span><br><span class="line">  // `baseURL` will be prepended to `url` unless `url` is absolute.</span><br><span class="line">  // It can be convenient to set `baseURL` for an instance of axios to pass relative URLs</span><br><span class="line">  // to methods of that instance.</span><br><span class="line">  // 假如`url`不是绝对路径，那么向服务器发送请求的URL将是`baseURL + url`</span><br><span class="line">  baseURL: &apos;https://some-domain.com/api/&apos;,</span><br><span class="line"></span><br><span class="line">  // `transformRequest` allows changes to the request data before it is sent to the server</span><br><span class="line">  // This is only applicable for request methods &apos;PUT&apos;, &apos;POST&apos;, and &apos;PATCH&apos;</span><br><span class="line">  // The last function in the array must return a string, an ArrayBuffer, or a Stream</span><br><span class="line">  transformRequest: [function (data) &#123;</span><br><span class="line">    // Do whatever you want to transform the data</span><br><span class="line"></span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  // `transformResponse` allows changes to the response data to be made before</span><br><span class="line">  // it is passed to then/catch</span><br><span class="line">  transformResponse: [function (data) &#123;</span><br><span class="line">    // Do whatever you want to transform the data</span><br><span class="line"></span><br><span class="line">    return data;</span><br><span class="line">  &#125;],</span><br><span class="line"></span><br><span class="line">  // `headers` are custom headers to be sent</span><br><span class="line">  headers: &#123;&apos;X-Requested-With&apos;: &apos;XMLHttpRequest&apos;&#125;,</span><br><span class="line"></span><br><span class="line">  // `params` are the URL parameters to be sent with the request</span><br><span class="line">  // Must be a plain object or a URLSearchParams object</span><br><span class="line">  params: &#123;</span><br><span class="line">    ID: 12345</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `paramsSerializer` is an optional function in charge of serializing `params`</span><br><span class="line">  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)</span><br><span class="line">  paramsSerializer: function(params) &#123;</span><br><span class="line">    return Qs.stringify(params, &#123;arrayFormat: &apos;brackets&apos;&#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `data` is the data to be sent as the request body</span><br><span class="line">  // Only applicable for request methods &apos;PUT&apos;, &apos;POST&apos;, and &apos;PATCH&apos;</span><br><span class="line">  // When no `transformRequest` is set, must be of one of the following types:</span><br><span class="line">  // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams</span><br><span class="line">  // - Browser only: FormData, File, Blob</span><br><span class="line">  // - Node only: Stream</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: &apos;Fred&apos;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `timeout` specifies the number of milliseconds before the request times out.</span><br><span class="line">  // If the request takes longer than `timeout`, the request will be aborted.</span><br><span class="line">  timeout: 1000,</span><br><span class="line"></span><br><span class="line">  // `withCredentials` indicates whether or not cross-site Access-Control requests</span><br><span class="line">  // should be made using credentials</span><br><span class="line">  withCredentials: false, // default</span><br><span class="line"></span><br><span class="line">  // `adapter` allows custom handling of requests which makes testing easier.</span><br><span class="line">  // Return a promise and supply a valid response (see [response docs](#response-api)).</span><br><span class="line">  adapter: function (config) &#123;</span><br><span class="line">    /* ... */</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `auth` indicates that HTTP Basic auth should be used, and supplies credentials.</span><br><span class="line">  // This will set an `Authorization` header, overwriting any existing</span><br><span class="line">  // `Authorization` custom headers you have set using `headers`.</span><br><span class="line">  auth: &#123;</span><br><span class="line">    username: &apos;janedoe&apos;,</span><br><span class="line">    password: &apos;s00pers3cret&apos;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `responseType` indicates the type of data that the server will respond with</span><br><span class="line">  // options are &apos;arraybuffer&apos;, &apos;blob&apos;, &apos;document&apos;, &apos;json&apos;, &apos;text&apos;, &apos;stream&apos;</span><br><span class="line">  responseType: &apos;json&apos;, // default</span><br><span class="line"></span><br><span class="line">  // `xsrfCookieName` is the name of the cookie to use as a value for xsrf token</span><br><span class="line">  xsrfCookieName: &apos;XSRF-TOKEN&apos;, // default</span><br><span class="line"></span><br><span class="line">  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value</span><br><span class="line">  xsrfHeaderName: &apos;X-XSRF-TOKEN&apos;, // default</span><br><span class="line"></span><br><span class="line">  // `onUploadProgress` allows handling of progress events for uploads</span><br><span class="line">  onUploadProgress: function (progressEvent) &#123;</span><br><span class="line">    // Do whatever you want with the native progress event</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `onDownloadProgress` allows handling of progress events for downloads</span><br><span class="line">  onDownloadProgress: function (progressEvent) &#123;</span><br><span class="line">    // Do whatever you want with the native progress event</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `maxContentLength` defines the max size of the http response content allowed</span><br><span class="line">  maxContentLength: 2000,</span><br><span class="line"></span><br><span class="line">  // `validateStatus` defines whether to resolve or reject the promise for a given</span><br><span class="line">  // HTTP response status code. If `validateStatus` returns `true` (or is set to `null`</span><br><span class="line">  // or `undefined`), the promise will be resolved; otherwise, the promise will be</span><br><span class="line">  // rejected.</span><br><span class="line">  validateStatus: function (status) &#123;</span><br><span class="line">    return status &gt;= 200 &amp;&amp; status &lt; 300; // default</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `maxRedirects` defines the maximum number of redirects to follow in node.js.</span><br><span class="line">  // If set to 0, no redirects will be followed.</span><br><span class="line">  maxRedirects: 5, // default</span><br><span class="line"></span><br><span class="line">  // `httpAgent` and `httpsAgent` define a custom agent to be used when performing http</span><br><span class="line">  // and https requests, respectively, in node.js. This allows to configure options like</span><br><span class="line">  // `keepAlive` that are not enabled by default.</span><br><span class="line">  httpAgent: new http.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line">  httpsAgent: new https.Agent(&#123; keepAlive: true &#125;),</span><br><span class="line"></span><br><span class="line">  // &apos;proxy&apos; defines the hostname and port of the proxy server</span><br><span class="line">  // `auth` indicates that HTTP Basic auth should be used to connect to the proxy, and supplies credentials.</span><br><span class="line">  // This will set an `Proxy-Authorization` header, overwriting any existing `Proxy-Authorization` custom headers you have set using `headers`.</span><br><span class="line">  proxy: &#123;</span><br><span class="line">    host: &apos;127.0.0.1&apos;,</span><br><span class="line">    port: 9000,</span><br><span class="line">    auth: : &#123;</span><br><span class="line">      username: &apos;mikeymike&apos;,</span><br><span class="line">      password: &apos;rapunz3l&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  // `cancelToken` specifies a cancel token that can be used to cancel the request</span><br><span class="line">  // (see Cancellation section below for details)</span><br><span class="line">  cancelToken: new CancelToken(function (cancel) &#123;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="分析Config"><a href="#分析Config" class="headerlink" title="分析Config"></a>分析Config</h2><p>配置参数很多，我们一个一个来了解它们</p>
<ul>
<li><strong>url</strong> —— 用来向服务器发送请求的url</li>
<li><strong>method</strong> —— 请求方法，默认是<code>GET</code>方法</li>
<li><strong>baseURL</strong> —— 基础URL路径，假如<code>url</code>不是绝对路径，如<code>https://some-domain.com/api/v1/login?name=jack</code>,那么向服务器发送请求的URL将会是<code>baseURL + url</code>。</li>
<li><strong>transformRequest</strong> —— <code>transformRequest</code>方法允许在请求发送到服务器之前修改该请求，此方法只适用于<code>PUT</code>、<code>POST</code>和<code>PATCH</code>方法中。而且，此方法最后必须返回一个string、ArrayBuffer或者Stream。</li>
<li><strong>transformResponse</strong> —— <code>transformResponse</code>方法允许在数据传递到then/catch之前修改<code>response</code>数据。此方法最后也要返回数据。</li>
<li><strong>headers</strong> —— 发送自定义Headers头文件，头文件中包含了http请求的各种信息。</li>
<li><strong>params</strong> —— <code>params</code>是发送请求的查询参数对象，对象中的数据会被拼接成<code>url?param1=value1&amp;param2=value2</code>。</li>
<li><strong>paramsSerializer</strong> —— <code>params</code>参数序列化器。</li>
<li><strong>data</strong> —— <code>data</code>是在发送<code>POST</code>、<code>PUT</code>或者<code>PATCH</code>请求的数据对象。</li>
<li><strong>timeout</strong> —— 请求超时设置，单位为毫秒</li>
<li><strong>withCredentials</strong> —— 表明是否有跨域请求需要用到证书</li>
<li><strong>adapter</strong> —— <code>adapter</code>允许用户处理更易于测试的请求。返回一个Promise和一个有效的response</li>
<li><strong>auth</strong> —— <code>auth</code>表明提供凭证用于完成http的身份验证。这将会在headers中设置一个<code>Authorization</code>授权信息。自定义<code>Authorization</code>授权要设置在<code>headers</code>中。</li>
<li><strong>responseType</strong> —— 表示服务器将返回响应的数据类型，有<code>arraybuffer</code>、<code>blob</code>、<code>document</code>、<code>json</code>、<code>text</code>、<code>stream</code>这6个类型，默认是<code>json</code>类似数据。</li>
<li><strong>xsrfCookieName</strong> —— 用作 xsrf token 值的 cookie 名称</li>
<li><strong>xsrfHeaderName</strong> —— 带有 xsrf token 值 http head 名称</li>
<li><strong>onUploadProgress</strong> ——  允许在上传过程中的做一些操作</li>
<li><strong>onDownloadProgress</strong> —— 允许在下载过程中的做一些操作</li>
<li><strong>maxContentLength</strong> —— 定义了接收到的response响应数据的最大长度。</li>
<li><strong>validateStatus</strong> —— <code>validateStatus</code>定义了根据HTTP响应状态码决定是否接收或拒绝获取到的promise。如果 <code>validateStatus</code> 返回 <code>true</code> (或设置为 <code>null</code> 或 <code>undefined</code> ),promise将被接收;否则,promise将被拒绝。</li>
<li><strong>maxRedirects</strong> —— <code>maxRedirects</code>定义了在node.js中redirect的最大值，如果设置为0，则没有redirect。</li>
<li><strong>httpAgent</strong> —— 定义在使用http请求时的代理</li>
<li><strong>httpsAgent</strong> —— 定义在使用https请求时的代理</li>
<li><strong>proxy</strong> —— <code>proxy</code>定义代理服务器的主机名和端口，<code>auth</code></li>
<li><strong>cancelToken</strong> —— <code>cancelToken</code>定义一个 <code>cancel token</code> 用于取消请求</li>
</ul>
<h2 id="Response"><a href="#Response" class="headerlink" title="Response"></a>Response</h2><p>当我们ajax获取数据成功后会返回一个response对象，它包含了以下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // `data` is the response that was provided by the server</span><br><span class="line">  data: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  // `status` is the HTTP status code from the server response</span><br><span class="line">  status: 200,</span><br><span class="line"></span><br><span class="line">  // `statusText` is the HTTP status message from the server response</span><br><span class="line">  statusText: &apos;OK&apos;,</span><br><span class="line"></span><br><span class="line">  // `headers` the headers that the server responded with</span><br><span class="line">  headers: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  // `config` is the config that was provided to `axios` for the request</span><br><span class="line">  config: &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>response是通过promise的<code>then</code>方法来获取,具体使用方法如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">axios.get(&apos;/user/12345&apos;)</span><br><span class="line">  .then(function(response) &#123;</span><br><span class="line">    console.log(response.data);</span><br><span class="line">    console.log(response.status);</span><br><span class="line">    console.log(response.statusText);</span><br><span class="line">    console.log(response.headers);</span><br><span class="line">    console.log(response.config);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p>
<p>相对的，我们有时也会出现ajax报错，此时就会到我们的<code>catch</code>中去捕获异常<code>error</code>对象。</p>
<h1 id="为何放弃vue-resource"><a href="#为何放弃vue-resource" class="headerlink" title="为何放弃vue-resource"></a>为何放弃vue-resource</h1><p>尤大的原话：</p>
<blockquote>
<p>最近团队讨论了一下，Ajax 本身跟 Vue 并没有什么需要特别整合的地方，使用 fetch polyfill 或是 axios、superagent 等等都可以起到同等的效果，vue-resource 提供的价值和其维护成本相比并不划算，所以决定在不久以后取消对 vue-resource 的官方推荐。已有的用户可以继续使用，但以后不再把 vue-resource 作为官方的 ajax 方案。<br>知乎链接：<a href="https://www.zhihu.com/question/52418455/answer/130535375" target="_blank" rel="noopener">https://www.zhihu.com/question/52418455/answer/130535375</a></p>
</blockquote>
<h1 id="Vue-js学习系列"><a href="#Vue-js学习系列" class="headerlink" title="Vue.js学习系列"></a>Vue.js学习系列</h1><p>鉴于前端知识碎片化严重，我希望能够系统化的整理出一套关于Vue的学习系列博客。</p>
<p><a href="http://www.jianshu.com/p/8013d8d37bd0" target="_blank" rel="noopener">Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）</a><br><a href="http://www.jianshu.com/p/d6f7e11f18af" target="_blank" rel="noopener">Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）</a><br><a href="http://www.jianshu.com/p/8e5fb763c3d7" target="_blank" rel="noopener">Vue.js学习系列三 —— axios和网络传输相关知识的学习实践</a><br><a href="http://www.jianshu.com/p/aef34acd111f" target="_blank" rel="noopener">Vue.js学习系列四 —— Webpack打包工具的使用</a><br><a href="http://www.jianshu.com/p/efb6fbed6fac" target="_blank" rel="noopener">Vue.js学习系列五 —— 从VUE-CLI来聊聊ESLint</a><br><a href="http://www.jianshu.com/p/073d25a3bba0" target="_blank" rel="noopener">Vue.js学习系列六 —— Vue单元测试Karma+Mocha学习笔记</a><br><a href="https://www.jianshu.com/p/ba7466d7101a" target="_blank" rel="noopener">Vue.js学习系列七 —— Vue服务器渲染Nuxt学习</a><br><a href="https://www.jianshu.com/p/15028f91226e" target="_blank" rel="noopener">Vue.js学习系列八 —— Vue源码学习之State学习</a></p>
<h1 id="Vue-js学习系列项目地址"><a href="#Vue-js学习系列项目地址" class="headerlink" title="Vue.js学习系列项目地址"></a>Vue.js学习系列项目地址</h1><p>本文源码已收入到GitHub中，以供参考，当然能留下一个star更好啦^-^。<br><a href="https://github.com/violetjack/VueStudyDemos" target="_blank" rel="noopener">https://github.com/violetjack/VueStudyDemos</a></p>
<h1 id="关于作者"><a href="#关于作者" class="headerlink" title="关于作者"></a>关于作者</h1><p>VioletJack，高效学习前端工程师，喜欢研究提高效率的方法，也专注于Vue前端相关知识的学习、整理。<br>欢迎关注、点赞、评论留言~我将持续产出Vue相关优质内容。</p>
<p>新浪微博： <a href="http://weibo.com/u/2640909603" target="_blank" rel="noopener">http://weibo.com/u/2640909603</a><br>掘金：<a href="https://gold.xitu.io/user/571d953d39b0570068145cd1" target="_blank" rel="noopener">https://gold.xitu.io/user/571d953d39b0570068145cd1</a><br>CSDN: <a href="http://blog.csdn.net/violetjack0808" target="_blank" rel="noopener">http://blog.csdn.net/violetjack0808</a><br>简书： <a href="http://www.jianshu.com/users/54ae4af3a98d/latest_articles" target="_blank" rel="noopener">http://www.jianshu.com/users/54ae4af3a98d/latest_articles</a><br>Github： <a href="https://github.com/violetjack" target="_blank" rel="noopener">https://github.com/violetjack</a></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://violetjack.github.io/2017/01/09/Vue.js学习系列三 —— axios和网络传输相关知识的学习实践/" data-id="cjdchgbsx0005eybtl79kza5u" class="article-share-link" data-share="baidu" data-title="Vue.js学习系列三 —— axios和网络传输相关知识的学习实践">分享到</a>
      

      
        <a href="https://violetjack.github.io/2017/01/09/Vue.js学习系列三 —— axios和网络传输相关知识的学习实践/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/31/Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）/" class="article-date">
  <time datetime="2016-12-30T16:00:00.000Z" itemprop="datePublished">2016-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/31/Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）/">Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>上次学习了vue-router的使用，让我能够在各个页面间切换，将页面搭建了起来。这次则要学习vue的状态管理模式——vuex。</p>
</blockquote>
<p><strong>注</strong>：本文只是个人对vuex学习的一些理解，要深刻掌握还需要认真查阅<a href="http://vuex.vuejs.org/zh-cn/" target="_blank" rel="noopener">官方文档</a>。</p>
<h1 id="一、基本介绍"><a href="#一、基本介绍" class="headerlink" title="一、基本介绍"></a>一、基本介绍</h1><p>Vuex 是一个专为 Vue.js 的SPA单页组件化应用程序开发的<strong>状态管理模式</strong>插件。<br>由于Vue SPA应用的模块化，每个组件都有它各自的数据(state)、界面(view)、和方法(actions)。这些数据、界面和方法分布在各个组件中，当项目内容变得越来越多时，每个组件中的状态会变得很难管理。这是vuex就派上用场啦~下面我们看一个简单的vuex例子。</p>
<h2 id="1-单个组件中的状态"><a href="#1-单个组件中的状态" class="headerlink" title="1. 单个组件中的状态"></a>1. 单个组件中的状态</h2><p>假如只是在单个组件中要改变界面view很简单，只需要改变state数据源即可。如下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      view: &#123;&#123; count &#125;&#125;</span><br><span class="line">      &lt;button @click=&quot;increment&quot;&gt;increment&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // state</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      count: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // actions</span><br><span class="line">  methods: &#123;</span><br><span class="line">    increment () &#123;</span><br><span class="line">      this.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>所以，单个组件中的原理图是这样的：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1987062-29836e1cb7325526.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="单个组件中的原理图"></p>
<h2 id="2-多个组件中的状态"><a href="#2-多个组件中的状态" class="headerlink" title="2. 多个组件中的状态"></a>2. 多个组件中的状态</h2><p>然而，我们作为组件化的SPA应用，必定会牵扯到多个组件间的通信。<br>比如有两个相同的组件A和B，它们共享一个数据count，并且都有一个方法可以操作这个count，我们使用vuex来写。<br><strong>A组件和B组件的代码（代码相同）</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &#123;&#123; $store.state.count &#125;&#125;</span><br><span class="line">    &lt;button @click=&quot;increment&quot;&gt;increment&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">      increment () &#123;</span><br><span class="line">        this.$store.commit(&apos;increment&apos;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1987062-5971ec429e2ac23b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="结果1"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1987062-22872b0aa75b7f42.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="结果2"></p>
<p>可以看到，这里的两个increment按钮点击都会同时改变两个count的数据，<strong>因为数据源count和方法increment都是全局的。</strong><br>正如下面官方原理图所画的，我们把<strong>全局数据源state、改变数据源的方法mutations、异步操作方法actions</strong>都放提取出来放到store中，实现全局数据状态单独管理的功能。<br><img src="http://upload-images.jianshu.io/upload_images/1987062-9867083201b0c86e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="vuex官方原理图"></p>
<h1 id="二、安装-amp-配置"><a href="#二、安装-amp-配置" class="headerlink" title="二、安装&amp;配置"></a>二、安装&amp;配置</h1><h2 id="1-安装vuex"><a href="#1-安装vuex" class="headerlink" title="1. 安装vuex"></a>1. 安装vuex</h2><p>使用npm安装并保存到package.json中：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure></p>
<p><strong>package.json</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;devDependencies&quot;: &#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;vuex&quot;: &quot;^2.1.1&quot;,</span><br><span class="line">  ...</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<h2 id="2-配置"><a href="#2-配置" class="headerlink" title="2. 配置"></a>2. 配置</h2><p>配置方式和路由的配置方式差不多<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import Vuex from &apos;vuex&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line">//创建Store实例</span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  // 存储状态值</span><br><span class="line">  state: &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  // 状态值的改变方法,操作状态值</span><br><span class="line">  // 提交mutations是更改Vuex状态的唯一方法</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  // 在store中定义getters（可以认为是store的计算属性）。Getters接收state作为其第一个函数</span><br><span class="line">  getters: &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123; </span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">// 要改变状态值只能通过提交mutations来完成</span><br><span class="line"></span><br><span class="line">/* eslint-disable no-new */</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  template: &apos;&lt;App/&gt;&apos;,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  // 将store实例注入到根组件下的所有子组件中</span><br><span class="line">  store</span><br><span class="line">  // 子组件通过this.$store来方位store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h1 id="三、核心概念"><a href="#三、核心概念" class="headerlink" title="三、核心概念"></a>三、核心概念</h1><h2 id="1-state"><a href="#1-state" class="headerlink" title="1. state"></a>1. state</h2><p>state就是全局的状态（数据源），我们可以用以下方式在Vue 组件中获得Vuex的state状态<br><strong>template</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &#123;&#123; $store.state.count &#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>script</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(this.$store.state.count)</span><br></pre></td></tr></table></figure></p>
<h2 id="2-getters"><a href="#2-getters" class="headerlink" title="2. getters"></a>2. getters</h2><p>getters其实可以认为是 store 的计算属性，用法和计算属性差不多。<br>定义getter：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  done(state) &#123;</span><br><span class="line">    return state.count + 5;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用getter<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(this.$store.getters.done)</span><br></pre></td></tr></table></figure></p>
<h2 id="3-mutations"><a href="#3-mutations" class="headerlink" title="3. mutations"></a>3. mutations</h2><p>mutations是操作state的唯一方法，即只有mutations方法能够改变state状态值。</p>
<h3 id="3-1-基本操作"><a href="#3-1-基本操作" class="headerlink" title="3.1 基本操作"></a>3.1 基本操作</h3><p><strong>mutations对state的操作</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: 1</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      // 变更状态</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p><strong>组件通过commit提交mutations的方式来请求改变state</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.commit(&apos;increment&apos;)</span><br></pre></td></tr></table></figure></p>
<p>这样的好处是我们可以跟踪到每一次state的变化，以便及时分析和解决问题。</p>
<h3 id="3-2-提交载荷（Payload）"><a href="#3-2-提交载荷（Payload）" class="headerlink" title="3.2 提交载荷（Payload）"></a>3.2 提交载荷（Payload）</h3><p>mutations方法中是可以传参的，具体用法如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  // 提交载荷 Payload</span><br><span class="line">  add(state, n) &#123;</span><br><span class="line">    state.count += n</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.commit(&apos;add&apos;, 10)</span><br></pre></td></tr></table></figure>
<p>这里只是传了一个数字，在大多数情况下，载荷应该是一个对象，这样可以包含多个字段并且记录的 mutation 会更易读。</p>
<h3 id="3-3-注意"><a href="#3-3-注意" class="headerlink" title="3.3 注意"></a>3.3 注意</h3><p><strong>mutations方法必须是同步方法！</strong></p>
<h2 id="4-actions"><a href="#4-actions" class="headerlink" title="4. actions"></a>4. actions</h2><h3 id="4-1-基本操作"><a href="#4-1-基本操作" class="headerlink" title="4.1 基本操作"></a>4.1 基本操作</h3><p>之前说mutations方法必须只能是同步方法，为了处理异步方法，actions出现了。关于action和mutations的区别有以下几点：</p>
<ul>
<li>Action 提交的是 mutation，而不是直接变更状态。</li>
<li>Action 可以包含任意异步操作。</li>
<li>Action 还是得通过 mutation 方法来修改state<br>同样是之前的increment方法,我们分别用同步和异步的action来验证上面所说的与mutations的不同之处：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  increment (context) &#123;</span><br><span class="line">    context.commit(&apos;increment&apos;)</span><br><span class="line">  &#125;,</span><br><span class="line">  incrementAsync (context) &#123;</span><br><span class="line">    // 延时1秒  </span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      context.commit(&apos;increment&apos;)</span><br><span class="line">    &#125;, 1000)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>不同于mutations使用commit方法，actions使用dispatch方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&apos;incrementAsync&apos;)</span><br></pre></td></tr></table></figure></p>
<h3 id="4-2-context"><a href="#4-2-context" class="headerlink" title="4.2 context"></a>4.2 context</h3><p><strong>context是与 store 实例具有相同方法和属性的对象。</strong>可以通过<code>context.state</code>和<code>context.getters</code>来获取 state 和 getters。</p>
<h3 id="4-3-以载荷形式分发"><a href="#4-3-以载荷形式分发" class="headerlink" title="4.3 以载荷形式分发"></a>4.3 以载荷形式分发</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">incrementAsyncWithValue (context, value) &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    context.commit(&apos;add&apos;, value)</span><br><span class="line">  &#125;, 1000)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$store.dispatch(&apos;incrementAsyncWithValue&apos;, 5)</span><br></pre></td></tr></table></figure>
<h2 id="5-module"><a href="#5-module" class="headerlink" title="5. module"></a>5. module</h2><p>使用单一状态树，导致应用的所有状态集中到一个很大的对象。但是，当应用变得很大时，store 对象会变得臃肿不堪。<br>为了解决以上问题，Vuex 允许我们将 store 分割到<strong>模块（module）</strong>。每个模块拥有自己的 state、mutation、action、getters、甚至是嵌套子模块——从上至下进行类似的分割：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const moduleA = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;,</span><br><span class="line">  getters: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const moduleB = &#123;</span><br><span class="line">  state: &#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA,</span><br><span class="line">    b: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.state.a // -&gt; moduleA 的状态</span><br><span class="line">store.state.b // -&gt; moduleB 的状态</span><br></pre></td></tr></table></figure></p>
<p>module其实还是对于大型的SPA应用来说的，暂时对module的应用和理解并没有太多，之后会补上这一块儿的内容。<br>想要了解更多module知识，请查阅<a href="http://vuex.vuejs.org/zh-cn/modules.html" target="_blank" rel="noopener">官方module文档</a></p>
<h1 id="Vue-js学习系列"><a href="#Vue-js学习系列" class="headerlink" title="Vue.js学习系列"></a>Vue.js学习系列</h1><p>鉴于前端知识碎片化严重，我希望能够系统化的整理出一套关于Vue的学习系列博客。</p>
<p><a href="http://www.jianshu.com/p/8013d8d37bd0" target="_blank" rel="noopener">Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）</a><br><a href="http://www.jianshu.com/p/d6f7e11f18af" target="_blank" rel="noopener">Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）</a><br><a href="http://www.jianshu.com/p/8e5fb763c3d7" target="_blank" rel="noopener">Vue.js学习系列三 —— axios和网络传输相关知识的学习实践</a><br><a href="http://www.jianshu.com/p/aef34acd111f" target="_blank" rel="noopener">Vue.js学习系列四 —— Webpack打包工具的使用</a><br><a href="http://www.jianshu.com/p/efb6fbed6fac" target="_blank" rel="noopener">Vue.js学习系列五 —— 从VUE-CLI来聊聊ESLint</a><br><a href="http://www.jianshu.com/p/073d25a3bba0" target="_blank" rel="noopener">Vue.js学习系列六 —— Vue单元测试Karma+Mocha学习笔记</a><br><a href="https://www.jianshu.com/p/ba7466d7101a" target="_blank" rel="noopener">Vue.js学习系列七 —— Vue服务器渲染Nuxt学习</a><br><a href="https://www.jianshu.com/p/15028f91226e" target="_blank" rel="noopener">Vue.js学习系列八 —— Vue源码学习之State学习</a></p>
<h1 id="Vue-js学习系列项目地址"><a href="#Vue-js学习系列项目地址" class="headerlink" title="Vue.js学习系列项目地址"></a>Vue.js学习系列项目地址</h1><p>本文源码已收入到GitHub中，以供参考，当然能留下一个star更好啦^-^。<br><a href="https://github.com/violetjack/VueStudyDemos" target="_blank" rel="noopener">https://github.com/violetjack/VueStudyDemos</a></p>
<h1 id="关于作者"><a href="#关于作者" class="headerlink" title="关于作者"></a>关于作者</h1><p>VioletJack，高效学习前端工程师，喜欢研究提高效率的方法，也专注于Vue前端相关知识的学习、整理。<br>欢迎关注、点赞、评论留言~我将持续产出Vue相关优质内容。</p>
<p>新浪微博： <a href="http://weibo.com/u/2640909603" target="_blank" rel="noopener">http://weibo.com/u/2640909603</a><br>掘金：<a href="https://gold.xitu.io/user/571d953d39b0570068145cd1" target="_blank" rel="noopener">https://gold.xitu.io/user/571d953d39b0570068145cd1</a><br>CSDN: <a href="http://blog.csdn.net/violetjack0808" target="_blank" rel="noopener">http://blog.csdn.net/violetjack0808</a><br>简书： <a href="http://www.jianshu.com/users/54ae4af3a98d/latest_articles" target="_blank" rel="noopener">http://www.jianshu.com/users/54ae4af3a98d/latest_articles</a><br>Github： <a href="https://github.com/violetjack" target="_blank" rel="noopener">https://github.com/violetjack</a></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://violetjack.github.io/2016/12/31/Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）/" data-id="cjdchgbsz0006eybtfq8kual3" class="article-share-link" data-share="baidu" data-title="Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）">分享到</a>
      

      
        <a href="https://violetjack.github.io/2016/12/31/Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-巧用jQuery选择器写表单办法总结（提高效率）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/31/巧用jQuery选择器写表单办法总结（提高效率）/" class="article-date">
  <time datetime="2016-12-30T16:00:00.000Z" itemprop="datePublished">2016-12-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/31/巧用jQuery选择器写表单办法总结（提高效率）/">巧用jQuery选择器写表单办法总结（提高效率）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>相信很多小伙伴都会遇到需要做表单的需求，就像我现在做的医院项目，茫茫多的表单无穷无尽。一开始做表单使用最笨的方法：一个个span去定义ID，每个数据都用ajax获取后赋值显示，然后在表单提交前一个个用jQuery根据ID获取元素的value，组成一个model来提交给服务器。<br>后来发现使用jQuery可以大大简化这个过程。于是我修改了工作方法，总结了我的一些提高写表单效率的方法。</p>
</blockquote>
<h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>表单中存在最多的无非就是文本、文本框、单选框、多选框。而一些表单中会有几十个甚至几百个选项。我们的目标就是以最高的效率来完成这些表单的数据获取和数据提交。<br><strong>注意：如果元素ID和服务器上获取的json字段的名字是一样的，那么这篇文章或许能对你提高工作效率有所帮助。</strong></p>
<h2 id="文本和文本框"><a href="#文本和文本框" class="headerlink" title="文本和文本框"></a>文本和文本框</h2><p>对于文本和文本框，我们通常需要为元素添加ID来绑定和获取数据。</p>
<h3 id="将数据显示到界面中"><a href="#将数据显示到界面中" class="headerlink" title="将数据显示到界面中"></a>将数据显示到界面中</h3><ul>
<li>用for循环遍历解析成功的JSON数据</li>
<li>通过if判断过滤数据是span的还是input的。</li>
<li>将数据传给和数据名同名的ID元素。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">for (var key in json) &#123;</span><br><span class="line">   //过滤type为text的文本框</span><br><span class="line">   if ($(&apos;#&apos; + key).attr(&apos;type&apos;) == &apos;text&apos;) &#123;</span><br><span class="line">       $(&apos;#&apos; + key).val(json[key]);</span><br><span class="line">   &#125;</span><br><span class="line">   if($(&apos;#&apos; + key).prop(&apos;tagName&apos;) == &apos;SPAN&apos;)&#123;</span><br><span class="line">       $(&apos;#&apos; + key).text(json[key]);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="快速获取数据对象用于提交服务器"><a href="#快速获取数据对象用于提交服务器" class="headerlink" title="快速获取数据对象用于提交服务器"></a>快速获取数据对象用于提交服务器</h3><ul>
<li>定义空model对象。</li>
<li>通过jQuery选择器获取目标元素的value。</li>
<li>将数据传入model中，对象元素的字段就是HTML元素的ID。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var model = &#123;&#125;;</span><br><span class="line">$(&apos;input[type=&quot;text&quot;]&apos;).each(function () &#123;</span><br><span class="line">   model[$(this).attr(&apos;id&apos;)]=$(this).val();</span><br><span class="line">&#125;);</span><br><span class="line">$(&apos;span&apos;).each(function () &#123;</span><br><span class="line">   model[$(this).attr(&apos;id&apos;)]=$(this).text();</span><br><span class="line">&#125;);</span><br><span class="line">console.log(model);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>按照如下方法，我们只需要照着后端提供的数据字段给HTML定义id，而JS就不需要写太多代码就可以完成表单了。再也不怕表单字段太多了。</p>
<h3 id="全部代码"><a href="#全部代码" class="headerlink" title="全部代码"></a>全部代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;jquery-2.2.3.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;姓名：&lt;input type=&quot;text&quot; id=&quot;name&quot;&gt;&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;性别：&lt;input type=&quot;text&quot; id=&quot;sex&quot;&gt;&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;年龄：&lt;input type=&quot;text&quot; id=&quot;age&quot;&gt;&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;时间：&lt;input type=&quot;text&quot; id=&quot;time&quot;&gt;&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;a：&lt;span id=&quot;param01&quot;&gt;1&lt;/span&gt;&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;b：&lt;span id=&quot;param02&quot;&gt;2&lt;/span&gt;&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;c：&lt;span id=&quot;param03&quot;&gt;3&lt;/span&gt;&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;d：&lt;span id=&quot;param04&quot;&gt;4&lt;/span&gt;&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;button onclick=&quot;showResult()&quot;&gt;显示结果&lt;/button&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        //多条input或者span的快速赋值</span><br><span class="line">        //data是模拟服务器返回的JSON数据</span><br><span class="line">        var data = &apos;&#123;&quot;name&quot;:&quot;张三&quot;,&quot;sex&quot;:&quot;女&quot;,&quot;age&quot;:22,&quot;time&quot;:&quot;2016-5-10&quot;,&quot;param01&quot;:111,&quot;param02&quot;:222,&quot;param03&quot;:333,&quot;param04&quot;:444&#125;&apos;;</span><br><span class="line">        //将数据显示到页面中</span><br><span class="line">        var json = eval(&apos;(&apos; + data + &apos;)&apos;);</span><br><span class="line">        for (var key in json) &#123;</span><br><span class="line">            if ($(&apos;#&apos; + key).attr(&apos;type&apos;) == &apos;text&apos;) &#123;</span><br><span class="line">                $(&apos;#&apos; + key).val(json[key]);</span><br><span class="line">            &#125;</span><br><span class="line">            if($(&apos;#&apos; + key).prop(&apos;tagName&apos;) == &apos;SPAN&apos;)&#123;</span><br><span class="line">                $(&apos;#&apos; + key).text(json[key]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		//获取文本和文本框的内容转为JSON对象</span><br><span class="line">        function showResult() &#123;</span><br><span class="line">            var model = &#123;&#125;;</span><br><span class="line">            $(&apos;input[type=&quot;text&quot;]&apos;).each(function () &#123;</span><br><span class="line">                model[$(this).attr(&apos;id&apos;)]=$(this).val();</span><br><span class="line">            &#125;);</span><br><span class="line">            $(&apos;span&apos;).each(function () &#123;</span><br><span class="line">                model[$(this).attr(&apos;id&apos;)]=$(this).text();</span><br><span class="line">            &#125;);</span><br><span class="line">            console.log(model);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Radio和Checkbox"><a href="#Radio和Checkbox" class="headerlink" title="Radio和Checkbox"></a>Radio和Checkbox</h2><p>另外一种经常出现于表单中的就是radio、checkbox这些单选多选的元素了。这些元素通常用name命名一组选项。下面我同样用jQuery简化数据的显示和提交。</p>
<h3 id="显示数据"><a href="#显示数据" class="headerlink" title="显示数据"></a>显示数据</h3><p>和之前的文本一样，用for循环遍历json数据，然后通过if过滤后显示到界面。不同之处是这边是通过name来显示和绑定数据的。<br><strong>注：对radio和checkbox处理的方法写在了后面，所以复制粘贴的同学们请注意别漏了~</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for(var key in json)&#123;</span><br><span class="line">   if ($(&apos;input[name=&apos; + key +  &apos;]&apos;).attr(&apos;type&apos;) == &apos;radio&apos;) &#123;</span><br><span class="line">      showRadioValue(key, json[key]);</span><br><span class="line">   &#125;</span><br><span class="line">   if ($(&apos;input[name=&apos; + key +  &apos;]&apos;).attr(&apos;type&apos;) == &apos;checkbox&apos;) &#123;</span><br><span class="line">     showCheckBoxValue(key, json[key]);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="获取数据model的方法"><a href="#获取数据model的方法" class="headerlink" title="获取数据model的方法"></a>获取数据model的方法</h3><ul>
<li>定义空model对象。</li>
<li>定义name避免重复添加。</li>
<li>遍历所有radio获取结果传给model</li>
<li>遍历所有checkbox获取结果传给model</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function showResult() &#123;</span><br><span class="line">    var model = &#123;&#125;;</span><br><span class="line">    var radioName = &apos;&apos;;</span><br><span class="line">    var checkboxName = &apos;&apos;;</span><br><span class="line">    $(&quot;input[type=&apos;radio&apos;]&quot;).each(function () &#123;</span><br><span class="line">        if($(this).attr(&apos;name&apos;) != radioName)&#123;</span><br><span class="line">            radioName = $(this).attr(&apos;name&apos;);</span><br><span class="line">            model[radioName] = getRadioValue(radioName);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    $(&quot;input[type=&apos;checkbox&apos;]&quot;).each(function () &#123;</span><br><span class="line">        if($(this).attr(&apos;name&apos;) != checkboxName)&#123;</span><br><span class="line">            checkboxName = $(this).attr(&apos;name&apos;);</span><br><span class="line">            model[checkboxName] = getCheckboxValue(checkboxName);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(model);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="处理radio和checkbox的一些方法"><a href="#处理radio和checkbox的一些方法" class="headerlink" title="处理radio和checkbox的一些方法"></a>处理radio和checkbox的一些方法</h3><p>这里我对radio和checkbox的显示和获取结果写了几个方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">function showRadioValue(name, value) &#123;</span><br><span class="line">    $(&apos;input[name=&apos; + name +  &apos;]&apos;).each(function () &#123;</span><br><span class="line">        if(value == $(this).val())&#123;</span><br><span class="line">            $(this).attr(&apos;checked&apos;, &apos;true&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getRadioValue(name) &#123;</span><br><span class="line">    var value = 0;</span><br><span class="line">    var i = 0;</span><br><span class="line">    $(&apos;input[name=&apos; + name + &apos;]&apos; ).each(function () &#123;</span><br><span class="line">        if ($(&apos;input[name=&apos; + name + &apos;]&apos;).eq(i).is( &apos;:checked&apos;)) &#123;</span><br><span class="line">            value = $(&apos;input[name=&apos; + name + &apos;]&apos;).eq(i).val();</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;);</span><br><span class="line">    return value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function showCheckBoxValue (name, value) &#123;</span><br><span class="line">    var values = value.split(&apos;,&apos; );</span><br><span class="line">    var row = 1;</span><br><span class="line">    $(&apos;input[name=&quot;&apos; + name + &apos;&quot;]&apos;).each( function () &#123;</span><br><span class="line">        if (values[row] == 1) &#123;</span><br><span class="line">            $(this).attr(&quot;checked&quot; , &apos;true&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">        row++;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function getCheckboxValue (name) &#123;</span><br><span class="line">    var text = &quot;&quot; ;</span><br><span class="line">    $(&apos;input[name=&quot;&apos; + name + &apos;&quot;]&apos;).each( function () &#123;</span><br><span class="line">        var t = &apos;&apos; ;</span><br><span class="line">        if ($(this ).is(&apos;:checked&apos;)) &#123;</span><br><span class="line">            t = &quot;1&quot;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            t = &quot;0&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        text += &quot;,&quot; + t;</span><br><span class="line">    &#125;);</span><br><span class="line">    return text;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;jquery-2.2.3.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param01&quot; value=&quot;1&quot;&gt;1&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param01&quot; value=&quot;2&quot;&gt;2&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param01&quot; value=&quot;3&quot;&gt;3&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param02&quot; value=&quot;1&quot;&gt;1&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param02&quot; value=&quot;2&quot;&gt;2&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param02&quot; value=&quot;3&quot;&gt;3&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param03&quot; value=&quot;1&quot;&gt;1&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param03&quot; value=&quot;2&quot;&gt;2&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;param03&quot; value=&quot;3&quot;&gt;3&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;param04&quot;&gt;1&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;param04&quot;&gt;2&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;param04&quot;&gt;3&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;param04&quot;&gt;3&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;param05&quot;&gt;1&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;param05&quot;&gt;2&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;param05&quot;&gt;3&lt;/label&gt;</span><br><span class="line">            &lt;label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;param05&quot;&gt;3&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;button onclick=&quot;showResult()&quot;&gt;显示结果&lt;/button&gt;</span><br><span class="line">        &lt;label id=&quot;result&quot;&gt;result&lt;/label&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        //多条radio或者checkbox的快速赋值</span><br><span class="line">        var data = &apos;&#123;&quot;param01&quot;:&quot;1&quot;,&quot;param02&quot;:&quot;3&quot;,&quot;param03&quot;:&quot;2&quot;,&quot;param04&quot;:&quot;,1,0,0,0&quot;,&quot;param05&quot;:&quot;,0,0,1,1&quot;&#125;&apos;;</span><br><span class="line">        var json =eval( &apos;(&apos; + data + &apos;)&apos;);</span><br><span class="line">        for(var key in json)&#123;</span><br><span class="line">            if ($(&apos;input[name=&apos; + key +  &apos;]&apos;).attr(&apos;type&apos;) == &apos;radio&apos;) &#123;</span><br><span class="line">                showRadioValue(key, json[key]);</span><br><span class="line">            &#125;</span><br><span class="line">            if ($(&apos;input[name=&apos; + key +  &apos;]&apos;).attr(&apos;type&apos;) == &apos;checkbox&apos;) &#123;</span><br><span class="line">                showCheckBoxValue(key, json[key]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function showRadioValue(name, value) &#123;</span><br><span class="line">            $(&apos;input[name=&apos; + name +  &apos;]&apos;).each(function () &#123;</span><br><span class="line">                if(value == $(this).val())&#123;</span><br><span class="line">                    $(this).attr(&apos;checked&apos;, &apos;true&apos;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function getRadioValue(name) &#123;</span><br><span class="line">            var value = 0;</span><br><span class="line">            var i = 0;</span><br><span class="line">            $(&apos;input[name=&apos; + name + &apos;]&apos; ).each(function () &#123;</span><br><span class="line">                if ($(&apos;input[name=&apos; + name + &apos;]&apos;).eq(i).is( &apos;:checked&apos;)) &#123;</span><br><span class="line">                    value = $(&apos;input[name=&apos; + name + &apos;]&apos;).eq(i).val();</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;);</span><br><span class="line">            return value;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function showCheckBoxValue (name, value) &#123;</span><br><span class="line">            var values = value.split(&apos;,&apos; );</span><br><span class="line">            var row = 1;</span><br><span class="line">            $(&apos;input[name=&quot;&apos; + name + &apos;&quot;]&apos;).each( function () &#123;</span><br><span class="line">                if (values[row] == 1) &#123;</span><br><span class="line">                    $(this).attr(&quot;checked&quot; , &apos;true&apos;);</span><br><span class="line">                &#125;</span><br><span class="line">                row++;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function getCheckboxValue (name) &#123;</span><br><span class="line">            var text = &quot;&quot; ;</span><br><span class="line">            $(&apos;input[name=&quot;&apos; + name + &apos;&quot;]&apos;).each( function () &#123;</span><br><span class="line">                var t = &apos;&apos; ;</span><br><span class="line">                if ($(this ).is(&apos;:checked&apos;)) &#123;</span><br><span class="line">                    t = &quot;1&quot;;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    t = &quot;0&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">                text += &quot;,&quot; + t;</span><br><span class="line">            &#125;);</span><br><span class="line">            return text;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function showResult() &#123;</span><br><span class="line">            var model = &#123;&#125;;</span><br><span class="line">            var radioName = &apos;&apos;;</span><br><span class="line">            var checkboxName = &apos;&apos;;</span><br><span class="line">            $(&quot;input[type=&apos;radio&apos;]&quot;).each(function () &#123;</span><br><span class="line">                if($(this).attr(&apos;name&apos;) != radioName)&#123;</span><br><span class="line">                    radioName = $(this).attr(&apos;name&apos;);</span><br><span class="line">                    model[radioName] = getRadioValue(radioName);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            $(&quot;input[type=&apos;checkbox&apos;]&quot;).each(function () &#123;</span><br><span class="line">                if($(this).attr(&apos;name&apos;) != checkboxName)&#123;</span><br><span class="line">                    checkboxName = $(this).attr(&apos;name&apos;);</span><br><span class="line">                    model[checkboxName] = getCheckboxValue(checkboxName);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            console.log(model);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ul>
<li>如果有一些特殊处理的内容（如时间格式文本），可以先遍历后在遍历之后单独进行赋值。</li>
<li>以上方法可以用于所有以ID定义的用于显示和获取数据的HTML元素。</li>
<li>用好jQuery的选择器可以获取到任何所需的元素、元素集合。</li>
<li>在each()方法中<code>$(this)</code>表示当前元素。</li>
<li>获取所选ID的元素标签：<code>$(&#39;#&#39; + key).prop(&#39;tagName&#39;) == &#39;SPAN&#39;</code>，注意：标签结果<code>&#39;SPAN&#39;</code>都是大写的,可以打log验证。</li>
<li>不断找规律、总结提炼，找出最好的偷懒方法，尽量避免体力劳动。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://violetjack.github.io/2016/12/31/巧用jQuery选择器写表单办法总结（提高效率）/" data-id="cjdchgbtf000heybt2vftl1sb" class="article-share-link" data-share="baidu" data-title="巧用jQuery选择器写表单办法总结（提高效率）">分享到</a>
      

      
        <a href="https://violetjack.github.io/2016/12/31/巧用jQuery选择器写表单办法总结（提高效率）/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/26/Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）/" class="article-date">
  <time datetime="2016-12-25T16:00:00.000Z" itemprop="datePublished">2016-12-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/26/Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）/">Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>想学习Vue的SPA应用，路由这一块是必不可少的。相信很多和我一样刚接触前端的朋友对于路由这玩意是很困惑的。所以在我学习并成功使用了 <code>vue-router</code> 后，将我的个人经验分享出来，希望可以让同样对路由不知所措的同学有所帮助。</p>
</blockquote>
<h1 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h1><ul>
<li><strong>本文demo的项目结构用的是最新的<a href="https://github.com/vuejs/vue-cli" target="_blank" rel="noopener">命令行工具</a>创建的webpack项目模板</strong>；</li>
<li>本文知识点是基于Vue2.0和vue-route 2的，更多内容请参考<a href="http://cn.vuejs.org/" target="_blank" rel="noopener">Vue.js官网</a>和<a href="http://router.vuejs.org/zh-cn/" target="_blank" rel="noopener">vue-router 2官方文档</a>：</li>
</ul>
<h1 id="一、路由的安装："><a href="#一、路由的安装：" class="headerlink" title="一、路由的安装："></a>一、路由的安装：</h1><h2 id="npm安装"><a href="#npm安装" class="headerlink" title="npm安装"></a>npm安装</h2><p>可以使用npm直接安装插件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router --save</span><br></pre></td></tr></table></figure></p>
<p>执行命令完成vue-router的安装，并在package.json中添加了vue-router的依赖。当我们在其他电脑上安装项目时只需要执行 <code>npm install</code> 即可完成安装。</p>
<p><strong>package.json</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;dependencies&quot;: &#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;vue-router&quot;: &quot;^2.1.1&quot;</span><br><span class="line">  ...</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<p>如果是要安装在开发环境下，则使用以下命令行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router --save-dev</span><br></pre></td></tr></table></figure></p>
<p><strong>package.json</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;devDependencies&quot;: &#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;vue-router&quot;: &quot;^2.1.1&quot;,</span><br><span class="line">  ...</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<h1 id="二、SPA中路由的简单实现（附demo）"><a href="#二、SPA中路由的简单实现（附demo）" class="headerlink" title="二、SPA中路由的简单实现（附demo）"></a>二、SPA中路由的简单实现（附demo）</h1><p>下面让我们来配置路由并实现我们的第一次页面跳转。<br><a href="http://router.vuejs.org/zh-cn/essentials/getting-started.html" target="_blank" rel="noopener">官方提供的demo</a>很简单，复制到HTML中也的确能跑，但是问题是不知道如何在SPA应用中使用，这坑了我不少时间。在看了不少他人的项目后，完成了SPA路由的简单实现demo（基于vue-cli的webpack模板）。<br><strong>main.js</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import App from &apos;./App&apos;</span><br><span class="line">import VueRouter from &apos;vue-router&apos;</span><br><span class="line">import Page01 from &apos;./components/page01&apos;</span><br><span class="line">import Page02 from &apos;./components/page02&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)//全局安装路由功能</span><br><span class="line">//定义路径</span><br><span class="line">const routes = [</span><br><span class="line">  &#123; path: &apos;/&apos;, component: Page01 &#125;,</span><br><span class="line">  &#123; path: &apos;/02&apos;, component: Page02 &#125;,</span><br><span class="line">]</span><br><span class="line">//创建路由对象</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  template: &apos;&lt;App/&gt;&apos;,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  router</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p><strong>App.vue</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-link to=&quot;/&quot;&gt;01&lt;/router-link&gt;</span><br><span class="line">    &lt;router-link to=&quot;/02&quot;&gt;02&lt;/router-link&gt;</span><br><span class="line">    &lt;br/&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>page01.vue</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;page02&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>page02.vue</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;page02&lt;/h1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></p>
<p>实现步骤：</p>
<ol>
<li><code>npm</code>安装<code>vue-router</code></li>
<li><code>Vue.use(VueRouter)</code>全局安装路由功能</li>
<li>定义路径数组<code>routes</code>并创建路由对象<code>router</code></li>
<li>将<code>router</code>对象传到Vue对象中</li>
<li>在根组件中使用<code>&lt;router-link&gt;</code>定义跳转路径</li>
<li>在根组件中使用<code>&lt;router-view&gt;</code>来渲染组件</li>
<li>创建子组件</li>
</ol>
<h1 id="三、路由的跳转"><a href="#三、路由的跳转" class="headerlink" title="三、路由的跳转"></a>三、路由的跳转</h1><h2 id="router-link"><a href="#router-link" class="headerlink" title="router-link"></a>router-link</h2><p><code>router-link</code>标签用于页面的跳转，简单用法我们刚才提到过了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/page01&quot;&gt;page01&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></p>
<p>点击这个<code>router-link</code>标签<code>router-view</code>就会渲染路径为<code>/page01</code>的页面。<br><strong>注意：</strong><code>router-link</code>默认是一个<code>&lt;a&gt;</code>标签的形式，如果需要显示不同的样子，可以在<code>router-link</code>标签中写入不同标签元素，如下显示为<code>button</code>按钮。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/04&quot;&gt;</span><br><span class="line">    &lt;button&gt;to04&lt;/button&gt;</span><br><span class="line">&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="router-push"><a href="#router-push" class="headerlink" title="router.push"></a>router.push</h2><p>下面我们通过JS代码控制路由的界面渲染，官方文档写法如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 字符串</span><br><span class="line">router.push(&apos;home&apos;)</span><br><span class="line">// 对象</span><br><span class="line">router.push(&#123; path: &apos;home&apos; &#125;)</span><br><span class="line">// 命名的路由</span><br><span class="line">router.push(&#123; name: &apos;user&apos;, params: &#123; userId: 123 &#125;&#125;)</span><br><span class="line">// 带查询参数，变成 /register?plan=private</span><br><span class="line">router.push(&#123; path: &apos;register&apos;, query: &#123; plan: &apos;private&apos; &#125;&#125;)</span><br></pre></td></tr></table></figure></p>
<p>那么问题来了，如果是全局注册的路由<code>Vue.use(VueRouter)</code>，应该怎么写呢？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 字符串</span><br><span class="line">this.$router.push(&apos;home&apos;)</span><br><span class="line">// 对象</span><br><span class="line">this.$router.push(&#123; path: &apos;home&apos; &#125;)</span><br><span class="line">// 命名的路由</span><br><span class="line">this.$router.push(&#123; name: &apos;user&apos;, params: &#123; userId: 123 &#125;&#125;)</span><br><span class="line">// 带查询参数，变成 /register?plan=private</span><br><span class="line">this.$router.push(&#123; path: &apos;register&apos;, query: &#123; plan: &apos;private&apos; &#125;&#125;)</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>为什么能这么写呢，猜测是将router对象传递给Vue对象后，复制router对象为Vue.$router上了。还未在源码中求证，如有错误请指出，谢谢~</p>
</blockquote>
<p>push方法其实和<code>&lt;router-link :to=&quot;...&quot;&gt;</code>的写法是等同的。<br><strong>注意：</strong>push方法的跳转会向 history 栈添加一个新的记录，当我们点击浏览器的返回按钮时可以看到之前的页面。</p>
<h2 id="router-replace"><a href="#router-replace" class="headerlink" title="router.replace"></a>router.replace</h2><p>push方法会向 history 栈添加一个新的记录，而replace方法是替换当前的页面，不会向 history 栈添加一个新的记录。用法如下<br><strong>template</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/05&quot; replace&gt;05&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>script</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.replace(&#123; path: &apos;/05&apos; &#125;)</span><br></pre></td></tr></table></figure></p>
<h2 id="router-go"><a href="#router-go" class="headerlink" title="router.go"></a>router.go</h2><p>go方法用于控制history记录的前进和后退<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 在浏览器记录中前进一步，等同于 history.forward()</span><br><span class="line">this.$router.go(1)</span><br><span class="line">// 后退一步记录，等同于 history.back()</span><br><span class="line">this.$router.go(-1)</span><br><span class="line">// 前进 3 步记录router.go(3)</span><br><span class="line">// 如果 history 记录不够用，那就默默地失败呗</span><br><span class="line">this.$router.go(-100)</span><br><span class="line">this.$router.go(100)</span><br></pre></td></tr></table></figure></p>
<p>其实很好理解：<strong>go方法就是浏览器上的前进后退按钮，方法中传递的数字参数就是前进和后退的次数</strong></p>
<h1 id="四、路由的传参方式"><a href="#四、路由的传参方式" class="headerlink" title="四、路由的传参方式"></a>四、路由的传参方式</h1><p>在路由跳转的过程中会传递一个object，我们可以通过<code>watch</code>方法查看路由信息对象。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  &apos;$route&apos; (to, from) &#123;</span><br><span class="line">      console.log(to);</span><br><span class="line">      console.log(from);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<p><strong>console中看到的路由信息对象</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    params: &#123; id: &apos;123&apos; &#125;,</span><br><span class="line">    query: &#123; name: &apos;jack&apos; &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这两个参数会在页面跳转后写在路径中，路径相当于<code>/page/123?name=jack</code></p>
<h2 id="1-params"><a href="#1-params" class="headerlink" title="1. params"></a>1. params</h2><p>params传递的数据可用于匹配动态路由字段。如params的数据为 <code>params: { abc: &#39;hello&#39;, txt: &#39;world&#39; }</code> 而动态路由路径为 <code>path: &#39;/05/:txt</code> 那么最终的路径就会是 <code>/05/world</code>。<strong>所以，动态路由其实就是一种params的传递方式。</strong></p>
<p><strong>注意：由于动态路由也是传递params的，所以在 <code>this.$router.push()</code> 方法中 path不能和params一起使用，否则params将无效！需要用name来指定页面。之后动态路由会从params中找到动态路由同名的数据。</strong></p>
<h3 id="传递数据"><a href="#传递数据" class="headerlink" title="传递数据"></a>传递数据</h3><p>在路由配置文件中定义参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> export default [</span><br><span class="line">    ...</span><br><span class="line">    &#123; name: &apos;Page05&apos;, path: &apos;/05/:txt&apos;, component: Page05 &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>下面有两种传递params的方式</p>
<h4 id="1-通过path传递"><a href="#1-通过path传递" class="headerlink" title="1. 通过path传递"></a>1. 通过path传递</h4><p>路径后面的<code>/:txt</code>就是我们要传递的参数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.push(&#123; path: &apos;/05/441&apos;&#125;)</span><br></pre></td></tr></table></figure></p>
<p>此时路由跳转的路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/#/05/441</span><br></pre></td></tr></table></figure></p>
<p>此时我们看到查看路由信息对象：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    params: &#123;</span><br><span class="line">        txt: &apos;441&apos;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="2-通过params传递"><a href="#2-通过params传递" class="headerlink" title="2. 通过params传递"></a>2. 通过params传递</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">this.$router.replace(&#123; </span><br><span class="line">    name: &apos;Page05&apos;, </span><br><span class="line">    params: &#123; abc: &apos;hello&apos;, txt: &apos;world&apos; &#125;, </span><br><span class="line">    query: &#123; name: &apos;query&apos;, type: &apos;object&apos; &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>通过name获取页面，传递params和query。<br>得到的URL为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/#/05/world?name=query&amp;type=object</span><br></pre></td></tr></table></figure></p>
<p>而获取到的参数为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    params: &#123;</span><br><span class="line">        abc: &quot;hello&quot;,</span><br><span class="line">        txt: &quot;world&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h3><p><strong>template</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt; &#123;&#123; $route.params.txt &#125;&#125; &lt;/h2&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>script</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(this.$route.params.txt)</span><br></pre></td></tr></table></figure></p>
<h2 id="2-query"><a href="#2-query" class="headerlink" title="2. query"></a>2. query</h2><p>query传递数据的方式就是URL常见的查询参数，如<code>/foo?user=1&amp;name=2&amp;age=3</code>。很好理解，下面就简单写一下用法以及结果</p>
<h3 id="传递数据-1"><a href="#传递数据-1" class="headerlink" title="传递数据"></a>传递数据</h3><p><strong>template</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to=&quot;&#123; path: &apos;/05&apos;, query: &#123; name: &apos;query&apos;, type: &apos;object&apos; &#125;&#125;&quot; replace&gt;05&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>script</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.$router.replace(&#123; path: &apos;/05&apos;, query: &#123; name: &apos;query&apos;, type: &apos;object&apos; &#125;&#125;)</span><br></pre></td></tr></table></figure></p>
<p><strong>路径结果</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/#/05?name=query&amp;type=object</span><br></pre></td></tr></table></figure></p>
<p><strong>路由信息对象</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line">    query: &#123;</span><br><span class="line">        name: &quot;query&quot;,</span><br><span class="line">        type: &quot;object&quot;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="获取数据-1"><a href="#获取数据-1" class="headerlink" title="获取数据"></a>获取数据</h3><p>获取数据和params是一样的。<br><strong>template</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt; &#123;&#123; $route.query.name &#125;&#125; &lt;/h2&gt;</span><br></pre></td></tr></table></figure></p>
<p><strong>script</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(this.$route.query.type)</span><br></pre></td></tr></table></figure></p>
<h1 id="Vue-js学习系列"><a href="#Vue-js学习系列" class="headerlink" title="Vue.js学习系列"></a>Vue.js学习系列</h1><p>鉴于前端知识碎片化严重，我希望能够系统化的整理出一套关于Vue的学习系列博客。</p>
<p><a href="http://www.jianshu.com/p/8013d8d37bd0" target="_blank" rel="noopener">Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）</a><br><a href="http://www.jianshu.com/p/d6f7e11f18af" target="_blank" rel="noopener">Vue.js学习系列二 —— vuex学习实践笔记（附DEMO）</a><br><a href="http://www.jianshu.com/p/8e5fb763c3d7" target="_blank" rel="noopener">Vue.js学习系列三 —— axios和网络传输相关知识的学习实践</a><br><a href="http://www.jianshu.com/p/aef34acd111f" target="_blank" rel="noopener">Vue.js学习系列四 —— Webpack打包工具的使用</a><br><a href="http://www.jianshu.com/p/efb6fbed6fac" target="_blank" rel="noopener">Vue.js学习系列五 —— 从VUE-CLI来聊聊ESLint</a><br><a href="http://www.jianshu.com/p/073d25a3bba0" target="_blank" rel="noopener">Vue.js学习系列六 —— Vue单元测试Karma+Mocha学习笔记</a><br><a href="https://www.jianshu.com/p/ba7466d7101a" target="_blank" rel="noopener">Vue.js学习系列七 —— Vue服务器渲染Nuxt学习</a><br><a href="https://www.jianshu.com/p/15028f91226e" target="_blank" rel="noopener">Vue.js学习系列八 —— Vue源码学习之State学习</a></p>
<h1 id="Vue-js学习系列项目地址"><a href="#Vue-js学习系列项目地址" class="headerlink" title="Vue.js学习系列项目地址"></a>Vue.js学习系列项目地址</h1><p>本文源码已收入到GitHub中，以供参考，当然能留下一个star更好啦^-^。<br><a href="https://github.com/violetjack/VueStudyDemos" target="_blank" rel="noopener">https://github.com/violetjack/VueStudyDemos</a></p>
<h1 id="关于作者"><a href="#关于作者" class="headerlink" title="关于作者"></a>关于作者</h1><p>VioletJack，高效学习前端工程师，喜欢研究提高效率的方法，也专注于Vue前端相关知识的学习、整理。<br>欢迎关注、点赞、评论留言~我将持续产出Vue相关优质内容。</p>
<p>新浪微博： <a href="http://weibo.com/u/2640909603" target="_blank" rel="noopener">http://weibo.com/u/2640909603</a><br>掘金：<a href="https://gold.xitu.io/user/571d953d39b0570068145cd1" target="_blank" rel="noopener">https://gold.xitu.io/user/571d953d39b0570068145cd1</a><br>CSDN: <a href="http://blog.csdn.net/violetjack0808" target="_blank" rel="noopener">http://blog.csdn.net/violetjack0808</a><br>简书： <a href="http://www.jianshu.com/users/54ae4af3a98d/latest_articles" target="_blank" rel="noopener">http://www.jianshu.com/users/54ae4af3a98d/latest_articles</a><br>Github： <a href="https://github.com/violetjack" target="_blank" rel="noopener">https://github.com/violetjack</a></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://violetjack.github.io/2016/12/26/Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）/" data-id="cjdchgbsu0003eybt1ts6dn3w" class="article-share-link" data-share="baidu" data-title="Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）">分享到</a>
      

      
        <a href="https://violetjack.github.io/2016/12/26/Vue.js学习系列一 —— vue-router2学习实践笔记（附DEMO）/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-weex 踩坑记（持续更新中……）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/03/weex 踩坑记（持续更新中……）/" class="article-date">
  <time datetime="2016-08-02T16:00:00.000Z" itemprop="datePublished">2016-08-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/03/weex 踩坑记（持续更新中……）/">weex 踩坑记（持续更新中……）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>消失了一个月，努力为新项目倒腾 weex 中，记录一下遇到的问题。之后还会持续更新~</p>
</blockquote>
<p>目前，我使用的 <code>weex</code> 都是在<a href="http://weex.apache.org/cn/guide/integrate-to-your-app.html" target="_blank" rel="noopener">集成Weex到Android</a>来做的，项目使用的是 <code>weex-toolkit</code> 生成的项目模板，代码发布使用webpack打包成js放到服务器上，Android端读取服务器上的js来实现weex项目的。</p>
<h1 id="杂七杂八的一些知识点"><a href="#杂七杂八的一些知识点" class="headerlink" title="杂七杂八的一些知识点"></a>杂七杂八的一些知识点</h1><ul>
<li><p>屏幕宽度为 750，高度一直没查到，我用的是1300，刚好显示下。长度单位要么不写，要么就是 px，效果都一样。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  height: 1300;</span><br><span class="line">  width: 750px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>布局只支持 盒子模型、flex布局、relative定位，其他一些CSS不太支持。</p>
</li>
<li>CSS的 margin、padding、border 不支持缩写。像 <code>border:5px solid red;</code> 这样写是不行滴。</li>
<li>暂不支持像 <a href="http://mint-ui.github.io/#!/zh-cn" target="_blank" rel="noopener">mint-ui</a> 这类 Vue Web UI 组件库。</li>
<li>页面的跳转可以通过 <a href="https://router.vuejs.org/zh-cn/" target="_blank" rel="noopener">vue-router</a> 或者 weex 的 <a href="http://weex.apache.org/cn/references/modules/navigator.html" target="_blank" rel="noopener">navigator</a> 组件来实现，可以参考我提问的<a href="https://segmentfault.com/q/1010000009999942" target="_blank" rel="noopener">Weex的页面跳转方案的选择</a>。</li>
<li>在 Android 中，<code>navigator</code> 的 <code>push</code> 方法跳转的 <code>Activity</code> 界面是需要处理的，需要创建一个带有特殊 <code>&lt;intent-filter&gt;</code> 标签的 Activity。假如手机中没有带有该 <code>&lt;intent-filter&gt;</code> 的 <code>Activity</code> 就不会发生跳转，报 <code>ActivityNotFoundException</code> 错误。而如果有多个带有该 <code>&lt;intent-filter&gt;</code> 的<code>Activity</code>，Android 系统会让我们去进行选择。注：这个带 <code>&lt;intent-filter&gt;</code> 的Activity 是跨 APP 的。可以参照<a href="http://blog.csdn.net/violetjack0808/article/details/74390249" target="_blank" rel="noopener">WEEX 使用navigator跳转Android系统出现ActivityNotFoundException报错</a></li>
<li><code>image</code> 必须设置宽高，否则不显示。也不能使用 <code>img</code> 来显示图片</li>
<li>Android 手机中显示图片需要在 <code>ImageAdapter</code> 中进行处理，官网只提供了处理的位置（有注释），但未对图片进行处理。我使用了 <a href="https://github.com/square/picasso" target="_blank" rel="noopener">picasso</a> 来对图片进行显示。</li>
<li>native 和 weex 的通信通过自定义module或者发送全局事件来完成。参考<a href="http://blog.csdn.net/violetjack0808/article/details/74002599" target="_blank" rel="noopener">Weex控制Android返回键解决方案</a>里面有 native 端和 weex 端交互的细节。</li>
<li>weex 在Android手机中的调试：<ul>
<li>在 weex 中使用 console.log 方法来打 log，打开Android Studio，在 logcat中可以过滤关键词 jslog 来获取log数据。</li>
<li>如果 weex 报错，可以在 logcat 中查找错误，一般错误都好几行，很好找。</li>
<li>建议使用ESLint先过滤一些简单的语法错误，减少手机端的调试成本。</li>
</ul>
</li>
<li>weex 其他调试方式<ul>
<li>手机安装 <a href="http://weex.apache.org/cn/playground.html" target="_blank" rel="noopener">Playground</a>，运行 weex 项目，网页打开 <code>http://localhost:8080/</code> 扫描二维码进行调试。</li>
<li>可以在<a href="http://dotwe.org/vue/025db54e37123ab5336a4b848397660f" target="_blank" rel="noopener">Playground网页端</a>进行代码调试，但感觉遇到有组件的项目不太好调试。</li>
<li>在项目运行(<code>npm run serve</code>)后，直接打开 <code>http://localhost:8080/</code> 也能看到网页版本的项目，可以直接调试，不过一些设计Native端的组件用不了。</li>
</ul>
</li>
<li>weex中的标签只支持官方提供的<a href="http://weex.apache.org/cn/references/components/index.html" target="_blank" rel="noopener">内部组件</a>，因为那些是会被渲染成native界面的。</li>
<li><code>v-bind:class</code>只能使用数组语法</li>
<li><code>stream</code> 的 <code>url</code> 选项好像默认不支持中文，需要将中文转为 <code>UTF-8</code> 来传输。</li>
<li>weex 的 css 只支持 class 选择器，并且只支持单个类的选择器，如<code>.item .item-content {}</code>是错误的~</li>
<li>weex有点击特效的，参照<a href="http://weex.apache.org/cn/references/common-style.html#伪类-v0-9-5" target="_blank" rel="noopener">伪类</a>。</li>
<li>不支持 <code>display:none</code> 即不支持 <code>v-show</code>，需要使用 <code>v-if</code> 来实现显示和隐藏。</li>
<li>默认flex布局，要设置 <code>flex-direction</code>。我怀疑我的web端显示错误可能就是没有设置 <code>flex-direction</code>，移动端没有错误是因为默认 <code>flex-direction:column</code></li>
<li>存储、网络等很多都是异步的，需要注意顺序</li>
<li><code>storage</code> 只能存储字符串，取值后再转为json</li>
</ul>
<h2 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h2><p>暂时整理这么多，之后还会有其他的东西我会持续更新的~<br>Android 端的 <a href="https://github.com/violetjack/WeexComponents" target="_blank" rel="noopener">demo</a> 我会放到我的 Github 上去，之后我会让我的 IOS 小伙伴给一版 IOS 版本的壳子，到时候直接写weex项目，Android端和IOS端只需要更改一下渲染的js文件路径就可以显示了。</p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul>
<li><a href="https://github.com/dreamochi/DayDayUp/issues/77" target="_blank" rel="noopener">weex填坑注意事项</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://violetjack.github.io/2016/08/03/weex 踩坑记（持续更新中……）/" data-id="cjdchgbtb000deybtgy768rtt" class="article-share-link" data-share="baidu" data-title="weex 踩坑记（持续更新中……）">分享到</a>
      

      
        <a href="https://violetjack.github.io/2016/08/03/weex 踩坑记（持续更新中……）/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-Weex控制Android返回键解决方案" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/06/30/Weex控制Android返回键解决方案/" class="article-date">
  <time datetime="2016-06-29T16:00:00.000Z" itemprop="datePublished">2016-06-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/30/Weex控制Android返回键解决方案/">Weex控制Android返回键解决方案</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>正在深入倒腾weex，希望可以将weex用在项目中。这里找出了weex控制Android返回键的方法。</p>
</blockquote>
<h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>项目使用的是Vue+VueRouter的单页应用来写Weex的，现有以下需求。</p>
<ul>
<li>当页面不在首页上时，返回上一页面。 <code>this.$router.go(-1)</code></li>
<li>当页面在首页是，关闭当前Android应用</li>
</ul>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><h2 id="Android和Weex的通信"><a href="#Android和Weex的通信" class="headerlink" title="Android和Weex的通信"></a>Android和Weex的通信</h2><h3 id="Android-to-Weex"><a href="#Android-to-Weex" class="headerlink" title="Android to Weex"></a>Android to Weex</h3><p>使用的是<a href="http://weex.apache.org/cn/references/modules/globalevent.html" target="_blank" rel="noopener">globalEvent</a>来实现的。我们在 Android 的返回按钮事件中触发 <code>globalEvent</code>，在 Weex 中监听该 <code>globalEvent</code>。</p>
<p><strong>Android</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public void onBackPressed()&#123;</span><br><span class="line">  Map&lt;String,Object&gt; params=new HashMap&lt;&gt;();</span><br><span class="line">  params.put(&quot;name&quot;,&quot;returnmsg&quot;);</span><br><span class="line">  mWXSDKInstance.fireGlobalEventCallback(&quot;androidback&quot;,params);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>Weex</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">globalEvent.addEventListener(&apos;androidback&apos;, function (e) &#123;</span><br><span class="line">  // 这里就可以做返回事件操作了，如返回上一页或退出应用</span><br><span class="line">  // that.$router.go(-1)</span><br><span class="line">  // weex.requireModule(&apos;close&apos;).closeApp()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="Weex-to-Android"><a href="#Weex-to-Android" class="headerlink" title="Weex to Android"></a>Weex to Android</h3><p>而Weex对Android的通信使用<a href="http://weex.apache.org/cn/references/advanced/extend-to-android.html#Module-扩展" target="_blank" rel="noopener">Module扩展</a>来实现。通过在Android中创建WXModule并在Application中注册后，Weex调用该Module触发Android事件。下面我们来一步步实现。</p>
<p><strong>1. Android中创建CloseModule</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class CloseModule extends WXModule &#123;</span><br><span class="line"></span><br><span class="line">    @JSMethod(uiThread = false)</span><br><span class="line">    public void closeApp() &#123;</span><br><span class="line">        LogUtil.e(&quot;触发关闭效果&quot;);</span><br><span class="line">        CacheActivity.finishActivity();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>2. 在Application中注册Module</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public class WXApplication extends Application &#123;</span><br><span class="line"></span><br><span class="line">  @Override</span><br><span class="line">  public void onCreate() &#123;</span><br><span class="line">    super.onCreate();</span><br><span class="line">    InitConfig config = new InitConfig.Builder().setImgAdapter(new ImageAdapter()).build();</span><br><span class="line">    WXSDKEngine.initialize(this, config);</span><br><span class="line">    try &#123;</span><br><span class="line">      ...</span><br><span class="line">      WXSDKEngine.registerModule(&quot;close&quot;, CloseModule.class);</span><br><span class="line">      ...</span><br><span class="line">    &#125; catch (WXException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>3. 在Weex中使用</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weex.requireModule(&apos;close&apos;).closeApp()</span><br></pre></td></tr></table></figure></p>
<p>这样调用Module之后就可以对Android做许多事情了。</p>
<h2 id="退出Activity"><a href="#退出Activity" class="headerlink" title="退出Activity"></a>退出Activity</h2><p>这里我还遇到了一个问题，就是在Weex提供的WXModule中如何退出Activity，解决方案为<a href="http://www.cnblogs.com/jenson138/p/4516568.html" target="_blank" rel="noopener">android 关闭多个或指定activity</a>,这篇文章让我可以非常优雅的管理我的Activity。简单写下用法.<br><strong>1. 在每个Activity的onCreate方法中将Activity对象添加到List中</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">  ...</span><br><span class="line">  CacheActivity.addActivity(NetworkActivity.this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>2. 在Module中去关闭Activity</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CacheActivity.finishActivity();</span><br></pre></td></tr></table></figure></p>
<p><strong>3. 当然，别忘了把CacheActivity的代码贴到项目中去</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">package com.weex.sample.utlis;</span><br><span class="line"></span><br><span class="line">import android.app.Activity;</span><br><span class="line">import java.util.LinkedList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class CacheActivity &#123;</span><br><span class="line">    public static List&lt;Activity&gt; activityList = new LinkedList&lt;Activity&gt;();</span><br><span class="line"></span><br><span class="line">    public CacheActivity() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 添加到Activity容器中</span><br><span class="line">     */</span><br><span class="line">    public static void addActivity(Activity activity) &#123;</span><br><span class="line">        if (!activityList.contains(activity)) &#123;</span><br><span class="line">            activityList.add(activity);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 便利所有Activigty并finish</span><br><span class="line">     */</span><br><span class="line">    public static void finishActivity() &#123;</span><br><span class="line">        for (Activity activity : activityList) &#123;</span><br><span class="line">            activity.finish();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 结束指定的Activity</span><br><span class="line">     */</span><br><span class="line">    public static void finishSingleActivity(Activity activity) &#123;</span><br><span class="line">        if (activity != null) &#123;</span><br><span class="line">            if (activityList.contains(activity)) &#123;</span><br><span class="line">                activityList.remove(activity);</span><br><span class="line">            &#125;</span><br><span class="line">            activity.finish();</span><br><span class="line">            activity = null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 结束指定类名的Activity 在遍历一个列表的时候不能执行删除操作，所有我们先记住要删除的对象，遍历之后才去删除。</span><br><span class="line">     */</span><br><span class="line">    public static void finishSingleActivityByClass(Class&lt;?&gt; cls) &#123;</span><br><span class="line">        Activity tempActivity = null;</span><br><span class="line">        for (Activity activity : activityList) &#123;</span><br><span class="line">            if (activity.getClass().equals(cls)) &#123;</span><br><span class="line">                tempActivity = activity;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        finishSingleActivity(tempActivity);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Over！继续倒腾Weex中……遇到问题继续总结。欢迎留言交流~</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://violetjack.github.io/2016/06/30/Weex控制Android返回键解决方案/" data-id="cjdchgbt9000ceybtopv4atdx" class="article-share-link" data-share="baidu" data-title="Weex控制Android返回键解决方案">分享到</a>
      

      
        <a href="https://violetjack.github.io/2016/06/30/Weex控制Android返回键解决方案/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-将表单从jQuery转Vue框架实践总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/19/将表单从jQuery转Vue框架实践总结/" class="article-date">
  <time datetime="2016-05-18T16:00:00.000Z" itemprop="datePublished">2016-05-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/19/将表单从jQuery转Vue框架实践总结/">将表单从jQuery转Vue框架实践总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>工作需要，将公司项目从jQuery转成Vue来写。这里分享下转变项目的过程并写了一个小demo，希望能对遇到同样问题的朋友一些帮助。<br>PS： 本人Android开发，兼职前端，前端知识浅薄，有什么不对的地方还请指出，大家共同进步。谢谢~<br>由于代码较多，我把源码放在了博客最后了。</p>
</blockquote>
<h1 id="jQuery和Vue的区别"><a href="#jQuery和Vue的区别" class="headerlink" title="jQuery和Vue的区别"></a>jQuery和Vue的区别</h1><p>jQuery是使用选择器（$）选取DOM对象，对其进行赋值、取值、事件绑定等操作，其实和原生的HTML的区别只在于可以更方便的选取和操作DOM对象，而数据和界面是在一起的。比如需要获取label标签的内容：<code>$(&quot;lable&quot;).val();</code>,它还是依赖DOM元素的值。<br>Vue则是通过Vue对象将数据和View完全分离开来了。对数据进行操作不再需要引用相应的DOM对象，可以说数据和View是分离的，他们通过Vue对象这个vm实现相互的绑定。这就是传说中的MVVM。</p>
<h1 id="jQuery-to-Vue"><a href="#jQuery-to-Vue" class="headerlink" title="jQuery to Vue"></a>jQuery to Vue</h1><h2 id="1-导入Vue-js，去除jQuery。"><a href="#1-导入Vue-js，去除jQuery。" class="headerlink" title="1. 导入Vue.js，去除jQuery。"></a>1. 导入Vue.js，去除jQuery。</h2><p>下载Vue.js，导入工程,我将其放在头文件中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;vue.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p><a href="http://cn.vuejs.org/guide/installation.html" target="_blank" rel="noopener">Vue.js下载地址</a></p>
<h2 id="2-根视图id绑定"><a href="#2-根视图id绑定" class="headerlink" title="2. 根视图id绑定"></a>2. 根视图id绑定</h2><p>为最外层的div标签定义id，然后使用Vue的el属性进行绑定<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h2&gt;学生信息登记&lt;/h2&gt;</span><br><span class="line">        ...</span><br><span class="line">        &lt;label&gt;&#123;&#123; result &#125;&#125;&lt;/label&gt;    </span><br><span class="line">&lt;/div&gt;</span><br><span class="line">...</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &apos;#app&apos;,</span><br><span class="line">        ...</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<h2 id="3-为input添加v-model"><a href="#3-为input添加v-model" class="headerlink" title="3. 为input添加v-model"></a>3. 为input添加v-model</h2><p>使用v-model属性将input标签的value值绑定到data的相应数据中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;label&gt;姓名：&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; placeholder=&quot;请输入姓名&quot; v-model=&quot;name&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;label&gt;性别：&lt;/label&gt;</span><br><span class="line">    &lt;input id=&quot;sex01&quot; type=&quot;radio&quot; value=&quot;1&quot; v-model=&quot;sex&quot;&gt;</span><br><span class="line">    &lt;label for=&quot;sex01&quot;&gt;男&lt;/label&gt;</span><br><span class="line">    &lt;input id=&quot;sex02&quot; type=&quot;radio&quot; value=&quot;2&quot; v-model=&quot;sex&quot;&gt;</span><br><span class="line">    &lt;label for=&quot;sex02&quot;&gt;女&lt;/label&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;label&gt;年龄：&lt;/label&gt;</span><br><span class="line">    &lt;select v-model=&quot;age&quot;&gt;</span><br><span class="line">        &lt;option selected&gt;18&lt;/option&gt;</span><br><span class="line">        &lt;option&gt;19&lt;/option&gt;</span><br><span class="line">        &lt;option&gt;20&lt;/option&gt;</span><br><span class="line">        &lt;option&gt;21&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;&lt;/div&gt;&lt;div&gt;</span><br><span class="line">    &lt;label&gt;党员：&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; v-model=&quot;member&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>
<p>注意上方的v-model，我们在Vue对象的data属性中绑定数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">    el: &apos;#app&apos;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        name: &apos;&apos;,</span><br><span class="line">        sex: &apos;&apos;,</span><br><span class="line">        age: &apos;&apos;,</span><br><span class="line">        member: &apos;&apos;,</span><br><span class="line">        result: &apos;&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>到这里就实现了将表单input框和数据的绑定。更多Vue表单绑定可以查看<a href="http://cn.vuejs.org/guide/forms.html" target="_blank" rel="noopener">表单控件绑定</a></p>
<h2 id="4-删除id、name这些用于jQuery的属性"><a href="#4-删除id、name这些用于jQuery的属性" class="headerlink" title="4. 删除id、name这些用于jQuery的属性"></a>4. 删除id、name这些用于jQuery的属性</h2><p>在使用jQuery时，在HTML中需要定义大量的id、name之类的属性用于jQuery选择器获取元素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; placeholder=&quot;请输入姓名&quot; id=&quot;name&quot;&gt;</span><br><span class="line">...</span><br><span class="line">var name = $(&apos;#name&apos;).val();</span><br></pre></td></tr></table></figure></p>
<p>我们这里就不需要了。去除HTML中的这些属性。<br>（其实这里v-model和id的作用有些类似，都是一个桥梁作用。我在修改的时候偷懒直接将id改成v-model，后面的name不改~）</p>
<h2 id="5-将点击事件onclick改为v-on-click"><a href="#5-将点击事件onclick改为v-on-click" class="headerlink" title="5. 将点击事件onclick改为v-on:click"></a>5. 将点击事件onclick改为v-on:click</h2><p>Vue提供了v-on来监听DOM事件，如demo中的点击事件监听属性v-on:click。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=&quot;btnCommit&quot; v-on:click=&quot;commit&quot;&gt;提交&lt;/button&gt;</span><br><span class="line">&lt;button id=&quot;btnReset&quot; v-on:click=&quot;reset&quot;&gt;重置&lt;/button&gt;</span><br></pre></td></tr></table></figure></p>
<p>然后在Vue对象的methods属性中创建这两个事件方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">new Vue (&#123;</span><br><span class="line">    ...</span><br><span class="line">    methods: &#123;</span><br><span class="line">        commit: function () &#123;...&#125;,</span><br><span class="line">        reset: function () &#123;...&#125;,</span><br><span class="line">    ...</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>另外，Vue还提供了其他v-on:属性，如v-on:change、v-on:keyup等。具体请看：<a href="http://cn.vuejs.org/guide/events.html" target="_blank" rel="noopener">方法与事件处理</a></p>
<h2 id="6-引用数据"><a href="#6-引用数据" class="headerlink" title="6. 引用数据"></a>6. 引用数据</h2><p>作为MVVM，当然是双向绑定的。Vue用v-model属性使input可以修改数据内容，实现界面修改数据；使用双大括号来引用数据内容，实现数据修改界面。<br>具体写法如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;label&gt;&#123;&#123; result &#125;&#125;&lt;/label&gt;</span><br><span class="line">...</span><br><span class="line">data: &#123;</span><br><span class="line">    result: &apos;hello world&apos;,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如上引用后，数据<code>hello world</code>将会实时同步显示在labal标签上，每当result数据有所改变，label的内容立即会改变。</p>
<h2 id="7-替换ready方法"><a href="#7-替换ready方法" class="headerlink" title="7. 替换ready方法"></a>7. 替换ready方法</h2><p>jQuery中为我们提供了一个document的ready方法，Vue中有ready属性，它们的触发时间差不多，具体要参考各自的生命周期。<br><strong>jQuery写法：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function () &#123;</span><br><span class="line">    alert(&quot;加载完成&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><strong>Vue写法：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">new Vue (&#123;</span><br><span class="line">    ...</span><br><span class="line">    ready: function () &#123;</span><br><span class="line">        alert(&quot;加载完成&quot;);</span><br><span class="line">    &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h2 id="8-修改获取和修改元素属性的方式"><a href="#8-修改获取和修改元素属性的方式" class="headerlink" title="8.修改获取和修改元素属性的方式"></a>8.修改获取和修改元素属性的方式</h2><p>这是jQuery和Vue的最大不同点了。先看代码:<br><strong>jQuery:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var name = $(&apos;#name&apos;).val();</span><br><span class="line">var sex = &apos;&apos;;</span><br><span class="line">if (getChackedValue(&apos;input[name=sex]&apos;) == 1)&#123;</span><br><span class="line">    sex = &apos;男&apos;</span><br><span class="line">&#125;else if (getChackedValue(&apos;input[name=sex]&apos;) == 2)&#123;</span><br><span class="line">    sex = &apos;女&apos;</span><br><span class="line">&#125;</span><br><span class="line">var age = $(&apos;#age&apos;).val();</span><br><span class="line">var member = &apos;&apos;;</span><br><span class="line">if($(&apos;#member&apos;).is(&apos;:checked&apos;)) &#123;</span><br><span class="line">    member = &apos;党员&apos;;</span><br><span class="line">&#125;else &#123;</span><br><span class="line">    member = &quot;非党员&quot;;</span><br><span class="line">&#125;</span><br><span class="line">var result = name + &apos; &apos; + sex + &apos; &apos; + age + &apos; &apos; + member;</span><br><span class="line">$(&apos;#result&apos;).text(result);</span><br></pre></td></tr></table></figure></p>
<p>这是显示表单结果的函数。jQuery是通过美元符号$来获取指定元素，然后通过val()、text()等方法获取指定元素的内容或者为指定元素赋值。<br><strong>Vue：</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var name = this.name;</span><br><span class="line">var sex = &apos;&apos;;</span><br><span class="line">if (this.sex == 1)&#123;</span><br><span class="line">    sex = &apos;男&apos;;</span><br><span class="line">&#125;else if (this.sex == 2)&#123;</span><br><span class="line">    sex = &apos;女&apos;;</span><br><span class="line">&#125;</span><br><span class="line">var age = this.age;</span><br><span class="line">var member = &apos;&apos;;</span><br><span class="line">if (this.member)&#123;</span><br><span class="line">    member = &apos;党员&apos;;</span><br><span class="line">&#125;else &#123;</span><br><span class="line">    member = &apos;非党员&apos;</span><br><span class="line">&#125;</span><br><span class="line">var result = name + &apos; &apos; + sex + &apos; &apos; + age + &apos; &apos; + member;</span><br><span class="line">this.result = result;</span><br></pre></td></tr></table></figure></p>
<p>同样是显示表单结果的函数。Vue不需要获取DOM元素，只需要获得和修改data对象中的数据就可以了。<br>这里需要注意的是：要用jQuery获得或者修改一组radio很麻烦，需要操作checked属性；而Vue处理radio只需通过数据，数据内容就是radio的value值，修改value值radio就会自动选择目标项。checkbox也是如此，jQuery要使用checked，而Vue只需要知道checkbox绑定的data为true或者false就可以知道checkbox是否被选中。</p>
<h2 id="9-Vue使用watch方法测试"><a href="#9-Vue使用watch方法测试" class="headerlink" title="9. Vue使用watch方法测试"></a>9. Vue使用watch方法测试</h2><p>Vue的watch方法真的挺好用，当程序出现问题时可以将出问题的data使用watch打log，每当该数据发生变化时，watch方法都会被触发。很好用~<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    &apos;sex&apos;: function (val, oldVal) &#123;</span><br><span class="line">        console.log(&apos;oldVal = &apos; + oldVal + &apos; val = &apos; + val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="总结心得"><a href="#总结心得" class="headerlink" title="总结心得"></a>总结心得</h1><p>jQuery完全是通过美元符号来对各种元素进行操作！根据HTML元素的id、name等属性来获取到元素并对其进行取值、赋值、修改属性能行为。<br>Vue的使用过程 是：先绘制HTML界面，然后在需要绑定数据的地方写下v-model、v-on等这些绑定属性和方法，在显示数据内容的地方使用双大括号显示内容。然后在Vue中，el属性绑定根视图的id，data属性定义并初始化v-model、双大括号用到的数据和一些其他数据。methods属性定义在v-on中用到的和一些其他方法。更新界面修改数据实现。而修改数据通过操作界面实现。<br>写完了这个demo后，感觉到Vue的确有它的魅力所在。它的MVVM让业务逻辑变得更加清晰和简单。</p>
<h1 id="所有代码"><a href="#所有代码" class="headerlink" title="所有代码"></a>所有代码</h1><h2 id="jQueryPage"><a href="#jQueryPage" class="headerlink" title="jQueryPage"></a>jQueryPage</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;index&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;jquery-2.2.3.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;学生信息登记&lt;/h2&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;姓名：&lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; placeholder=&quot;请输入姓名&quot; id=&quot;name&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;性别：&lt;/label&gt;</span><br><span class="line">            &lt;input id=&quot;sex01&quot; type=&quot;radio&quot; value=&quot;1&quot; name=&quot;sex&quot;&gt;</span><br><span class="line">            &lt;label for=&quot;sex01&quot;&gt;男&lt;/label&gt;</span><br><span class="line">            &lt;input id=&quot;sex02&quot; type=&quot;radio&quot; value=&quot;2&quot; name=&quot;sex&quot;&gt;</span><br><span class="line">            &lt;label for=&quot;sex02&quot;&gt;女&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;年龄：&lt;/label&gt;</span><br><span class="line">            &lt;select id=&quot;age&quot;&gt;</span><br><span class="line">                &lt;option selected&gt;18&lt;/option&gt;</span><br><span class="line">                &lt;option&gt;19&lt;/option&gt;</span><br><span class="line">                &lt;option&gt;20&lt;/option&gt;</span><br><span class="line">                &lt;option&gt;21&lt;/option&gt;</span><br><span class="line">            &lt;/select&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;党员：&lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; id=&quot;member&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;button id=&quot;btnCommit&quot; onclick=&quot;commit()&quot;&gt;提交&lt;/button&gt;</span><br><span class="line">        &lt;button id=&quot;btnReset&quot; onclick=&quot;reset()&quot;&gt;重置&lt;/button&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;label id=&quot;result&quot;&gt;&lt;/label&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">        $(document).ready(function () &#123;</span><br><span class="line">            alert(&quot;加载完成&quot;);</span><br><span class="line">        &#125;);</span><br><span class="line">        function commit() &#123;</span><br><span class="line">            var name = $(&apos;#name&apos;).val(); </span><br><span class="line">            var sex = &apos;&apos;;</span><br><span class="line">            if (getChackedValue(&apos;input[name=sex]&apos;) == 1)&#123;</span><br><span class="line">                sex = &apos;男&apos;</span><br><span class="line">            &#125;else if (getChackedValue(&apos;input[name=sex]&apos;) == 2)&#123;</span><br><span class="line">                sex = &apos;女&apos;</span><br><span class="line">            &#125;</span><br><span class="line">            var age = $(&apos;#age&apos;).val();</span><br><span class="line">            var member = &apos;&apos;;</span><br><span class="line">            if($(&apos;#member&apos;).is(&apos;:checked&apos;)) &#123;</span><br><span class="line">                member = &apos;党员&apos;;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                member = &quot;非党员&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            var result = name + &apos; &apos; + sex + &apos; &apos; + age + &apos; &apos; + member;</span><br><span class="line">            $(&apos;#result&apos;).text(result);</span><br><span class="line">        &#125;</span><br><span class="line">        function reset() &#123;</span><br><span class="line">            $(&apos;#result&apos;).text(&apos;&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">        function getChackedValue (CheckboxId) &#123;</span><br><span class="line">            var value = 0;</span><br><span class="line">            var i = 0;</span><br><span class="line">            $(CheckboxId).each(function () &#123;</span><br><span class="line">                if($(CheckboxId).eq(i).is(&apos;:checked&apos;))                &#123;</span><br><span class="line">                    value = $(CheckboxId).eq(i).val(); </span><br><span class="line">                   return;</span><br><span class="line">                &#125;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;);</span><br><span class="line">            return value;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="VuePage"><a href="#VuePage" class="headerlink" title="VuePage"></a>VuePage</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot; xmlns:v-on=&quot;http://www.w3.org/1999/xhtml&quot;&gt;&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;index&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">        &lt;h2&gt;学生信息登记&lt;/h2&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;姓名：&lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; placeholder=&quot;请输入姓名&quot; v-model=&quot;name&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;性别：&lt;/label&gt;</span><br><span class="line">            &lt;input id=&quot;sex01&quot; type=&quot;radio&quot; value=&quot;1&quot; v-model=&quot;sex&quot;&gt;</span><br><span class="line">            &lt;label for=&quot;sex01&quot;&gt;男&lt;/label&gt;</span><br><span class="line">            &lt;input id=&quot;sex02&quot; type=&quot;radio&quot; value=&quot;2&quot; v-model=&quot;sex&quot;&gt;</span><br><span class="line">            &lt;label for=&quot;sex02&quot;&gt;女&lt;/label&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;年龄：&lt;/label&gt;</span><br><span class="line">            &lt;select v-model=&quot;age&quot;&gt;</span><br><span class="line">                &lt;option selected&gt;18&lt;/option&gt;</span><br><span class="line">                &lt;option&gt;19&lt;/option&gt;</span><br><span class="line">                &lt;option&gt;20&lt;/option&gt;</span><br><span class="line">                &lt;option&gt;21&lt;/option&gt;</span><br><span class="line">            &lt;/select&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;label&gt;党员：&lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;member&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;button id=&quot;btnCommit&quot; v-on:click=&quot;commit&quot;&gt;提交&lt;/button&gt;</span><br><span class="line">        &lt;button id=&quot;btnReset&quot; v-on:click=&quot;reset&quot;&gt;重置&lt;/button&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;label&gt;&#123;&#123; result &#125;&#125;&lt;/label&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &apos;#app&apos;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                name: &apos;&apos;,</span><br><span class="line">                sex: &apos;&apos;,</span><br><span class="line">                age: &apos;&apos;,</span><br><span class="line">                member: &apos;&apos;,</span><br><span class="line">                result: &apos;&apos;</span><br><span class="line">            &#125;, </span><br><span class="line">            ready: function () &#123;</span><br><span class="line">                alert(&quot;加载完成&quot;);</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                commit: function () &#123;</span><br><span class="line">                    var name = this.name;</span><br><span class="line">                    var sex = &apos;&apos;;</span><br><span class="line">                    if (this.sex == 1)&#123;</span><br><span class="line">                        sex = &apos;男&apos;;</span><br><span class="line">                    &#125;else if (this.sex == 2)&#123;</span><br><span class="line">                        sex = &apos;女&apos;;</span><br><span class="line">                    &#125;</span><br><span class="line">                    var age = this.age;</span><br><span class="line">                    var member = &apos;&apos;;</span><br><span class="line">                    if (this.member)&#123;</span><br><span class="line">                        member = &apos;党员&apos;;</span><br><span class="line">                    &#125; else &#123;</span><br><span class="line">                        member = &apos;非党员&apos;;</span><br><span class="line">                    &#125;</span><br><span class="line">                    var result = name + &apos; &apos; + sex + &apos; &apos; + age + &apos; &apos; + member;</span><br><span class="line">                    this.result = result;</span><br><span class="line">                &#125;,</span><br><span class="line">                reset: function () &#123;</span><br><span class="line">                    this.result = &apos;&apos;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            watch: &#123;</span><br><span class="line">                &apos;sex&apos;: function (val, oldVal) &#123;</span><br><span class="line">                    console.log(&apos;oldVal = &apos; + oldVal + &apos; val = &apos; + val);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://violetjack.github.io/2016/05/19/将表单从jQuery转Vue框架实践总结/" data-id="cjdchgbte000geybtwdid288v" class="article-share-link" data-share="baidu" data-title="将表单从jQuery转Vue框架实践总结">分享到</a>
      

      
        <a href="https://violetjack.github.io/2016/05/19/将表单从jQuery转Vue框架实践总结/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>
</section>
      
      <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/02/03/Vue.js学习系列八 —— Vue源码学习之State学习/">Vue.js学习系列八 —— Vue源码学习之State学习</a>
          </li>
        
          <li>
            <a href="/2018/01/29/Vue学习系列倡议书/">Vue学习系列倡议书</a>
          </li>
        
          <li>
            <a href="/2018/01/26/Vue.js学习系列七 —— Vue服务器渲染Nuxt学习/">Vue.js学习系列七 —— Vue服务器渲染Nuxt学习</a>
          </li>
        
          <li>
            <a href="/2018/01/21/ES6 学习笔记（下）/">ES6 学习笔记（下）</a>
          </li>
        
          <li>
            <a href="/2018/01/18/ES6 学习笔记（上）/">ES6 学习笔记（上）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">个人网站</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://github.com/violetjack" target="_blank">Github</a>
          </li>
        
          <li>
            <a href="https://segmentfault.com/u/violetjack" target="_blank">SegmentFault</a>
          </li>
        
          <li>
            <a href="http://blog.csdn.net/violetjack0808" target="_blank">CSDN</a>
          </li>
        
          <li>
            <a href="https://www.jianshu.com/u/54ae4af3a98d" target="_blank">简书</a>
          </li>
        
          <li>
            <a href="https://juejin.im/user/571d953d39b0570068145cd1" target="_blank">掘金</a>
          </li>
        
          <li>
            <a href="https://www.zhihu.com/people/violetjack" target="_blank">知乎</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 VioletJack<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">文章</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"reqianduan"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js"></script>

</div>
</body>
</html>
